(()=>{(()=>{var Rt={531:function(z,G){var T,se,N;(function(Z,Q){if(!0)se=[z],T=Q,N=typeof T=="function"?T.apply(G,se):T,N!==void 0&&(z.exports=N);else var ie})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(Z){var Q,ie;if(!((ie=(Q=globalThis.chrome)==null?void 0:Q.runtime)!=null&&ie.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser=="undefined"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const Ce="The message port closed before a response was received.",Te=D=>{const J={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(J).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class pe extends WeakMap{constructor(g,h=void 0){super(h),this.createItem=g}get(g){return this.has(g)||this.set(g,this.createItem(g)),super.get(g)}}const be=E=>E&&typeof E=="object"&&typeof E.then=="function",Oe=(E,g)=>(...h)=>{D.runtime.lastError?E.reject(new Error(D.runtime.lastError.message)):g.singleCallbackArg||h.length<=1&&g.singleCallbackArg!==!1?E.resolve(h[0]):E.resolve(h)},oe=E=>E==1?"argument":"arguments",Ve=(E,g)=>function(_,...v){if(v.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${oe(g.minArgs)} for ${E}(), got ${v.length}`);if(v.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${oe(g.maxArgs)} for ${E}(), got ${v.length}`);return new Promise((O,y)=>{if(g.fallbackToNoCallback)try{_[E](...v,Oe({resolve:O,reject:y},g))}catch(f){console.warn(`${E} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,f),_[E](...v),g.fallbackToNoCallback=!1,g.noCallback=!0,O()}else g.noCallback?(_[E](...v),O()):_[E](...v,Oe({resolve:O,reject:y},g))})},ye=(E,g,h)=>new Proxy(g,{apply(_,v,O){return h.call(v,E,...O)}});let K=Function.call.bind(Object.prototype.hasOwnProperty);const re=(E,g={},h={})=>{let _=Object.create(null),v={has(y,f){return f in E||f in _},get(y,f,M){if(f in _)return _[f];if(!(f in E))return;let S=E[f];if(typeof S=="function")if(typeof g[f]=="function")S=ye(E,E[f],g[f]);else if(K(h,f)){let H=Ve(f,h[f]);S=ye(E,E[f],H)}else S=S.bind(E);else if(typeof S=="object"&&S!==null&&(K(g,f)||K(h,f)))S=re(S,g[f],h[f]);else if(K(h,"*"))S=re(S,g[f],h["*"]);else return Object.defineProperty(_,f,{configurable:!0,enumerable:!0,get(){return E[f]},set(H){E[f]=H}}),S;return _[f]=S,S},set(y,f,M,S){return f in _?_[f]=M:E[f]=M,!0},defineProperty(y,f,M){return Reflect.defineProperty(_,f,M)},deleteProperty(y,f){return Reflect.deleteProperty(_,f)}},O=Object.create(E);return new Proxy(O,v)},le=E=>({addListener(g,h,..._){g.addListener(E.get(h),..._)},hasListener(g,h){return g.hasListener(E.get(h))},removeListener(g,h){g.removeListener(E.get(h))}}),fe=new pe(E=>typeof E!="function"?E:function(h){const _=re(h,{},{getContent:{minArgs:0,maxArgs:0}});E(_)}),Me=new pe(E=>typeof E!="function"?E:function(h,_,v){let O=!1,y,f=new Promise(q=>{y=function(U){O=!0,q(U)}}),M;try{M=E(h,_,y)}catch(q){M=Promise.reject(q)}const S=M!==!0&&be(M);if(M!==!0&&!S&&!O)return!1;const H=q=>{q.then(U=>{v(U)},U=>{let ce;U&&(U instanceof Error||typeof U.message=="string")?ce=U.message:ce="An unexpected error occurred",v({__mozWebExtensionPolyfillReject__:!0,message:ce})}).catch(U=>{console.error("Failed to send onMessage rejected reply",U)})};return H(S?M:f),!0}),Ne=({reject:E,resolve:g},h)=>{D.runtime.lastError?D.runtime.lastError.message===Ce?g():E(new Error(D.runtime.lastError.message)):h&&h.__mozWebExtensionPolyfillReject__?E(new Error(h.message)):g(h)},Fe=(E,g,h,..._)=>{if(_.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${oe(g.minArgs)} for ${E}(), got ${_.length}`);if(_.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${oe(g.maxArgs)} for ${E}(), got ${_.length}`);return new Promise((v,O)=>{const y=Ne.bind(null,{resolve:v,reject:O});_.push(y),h.sendMessage(..._)})},Ke={devtools:{network:{onRequestFinished:le(fe)}},runtime:{onMessage:le(Me),onMessageExternal:le(Me),sendMessage:Fe.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:Fe.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},$={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return J.privacy={network:{"*":$},services:{"*":$},websites:{"*":$}},re(D,Ke,J)};Z.exports=Te(chrome)}else Z.exports=globalThis.browser})}},Ge={};function He(z){var G=Ge[z];if(G!==void 0)return G.exports;var T=Ge[z]={exports:{}};return Rt[z].call(T.exports,T,T.exports,He),T.exports}var ua={};(()=>{"use strict";var z=(e=>(e.PRODUCTION="production",e.DEVELOPMENT="development",e))(z||{}),G=(e=>(e.SAFARI="safari",e.CHROME="chrome",e.CHROME_GROWTH="chrome_growth",e.EDGE="edge",e))(G||{}),T=(e=>(e[e.API_REQUEST=0]="API_REQUEST",e[e.LIFECYCLE_EVENT=1]="LIFECYCLE_EVENT",e))(T||{}),se=(e=>(e[e.SHOW_SIDEBAR_APP=0]="SHOW_SIDEBAR_APP",e[e.UNLOAD_SIDEBAR_APP=1]="UNLOAD_SIDEBAR_APP",e[e.SETUP_OATH_FLOW=2]="SETUP_OATH_FLOW",e[e.CHECK_OAUTH_STATE=3]="CHECK_OAUTH_STATE",e[e.KEEP_ALIVE_PING=4]="KEEP_ALIVE_PING",e))(se||{}),N=(e=>(e[e.TOGGLE_SIDEBAR_APP=0]="TOGGLE_SIDEBAR_APP",e[e.SHOW_SIDEBAR_APP=1]="SHOW_SIDEBAR_APP",e[e.UNLOAD_SIDEBAR_APP=2]="UNLOAD_SIDEBAR_APP",e[e.HANDLE_CONTEXT_MENU_SAVE_ACTION=3]="HANDLE_CONTEXT_MENU_SAVE_ACTION",e[e.KEEP_ALIVE_PONG=4]="KEEP_ALIVE_PONG",e))(N||{}),Z=(e=>(e[e.MOUNT_SAVEPICKER_APP=0]="MOUNT_SAVEPICKER_APP",e[e.MOUNT_SIDEBAR_APP=1]="MOUNT_SIDEBAR_APP",e))(Z||{}),Q=(e=>(e[e.FETCH_CONFIG=0]="FETCH_CONFIG",e[e.FETCH_USER=1]="FETCH_USER",e[e.FETCH_BOARDS=2]="FETCH_BOARDS",e[e.FETCH_BOARD_SECTIONS=3]="FETCH_BOARD_SECTIONS",e[e.FETCH_EXPERIMENT=4]="FETCH_EXPERIMENT",e[e.CREATE_BOARD=5]="CREATE_BOARD",e[e.CREATE_BOARD_SECTION=6]="CREATE_BOARD_SECTION",e[e.CREATE_OR_REPIN_PIN=7]="CREATE_OR_REPIN_PIN",e[e.CREATE_LOGS=8]="CREATE_LOGS",e[e.LOG_EVENT=9]="LOG_EVENT",e[e.FETCH_EXTENSION_SETTINGS=10]="FETCH_EXTENSION_SETTINGS",e[e.UPDATE_EXTENSION_SETTINGS=11]="UPDATE_EXTENSION_SETTINGS",e[e.REPORT_BUG=12]="REPORT_BUG",e[e.FETCH_EXPERIENCES=13]="FETCH_EXPERIENCES",e[e.UPDATE_EXPERIENCES=14]="UPDATE_EXPERIENCES",e[e.REVOKE_OAUTH_TOKEN=15]="REVOKE_OAUTH_TOKEN",e[e.CLEAR_BACKGROUND_STATE=16]="CLEAR_BACKGROUND_STATE",e))(Q||{}),ie=(e=>(e.SUCCESS="success",e.WAITING="waiting",e))(ie||{}),Ce=(e=>(e.PUBLIC="public",e.SECRET="secret",e))(Ce||{}),Te=(e=>(e[e.SignIn=0]="SignIn",e[e.ImagePicker=1]="ImagePicker",e[e.BoardPicker=2]="BoardPicker",e[e.BoardCreate=3]="BoardCreate",e[e.BoardSectionPicker=4]="BoardSectionPicker",e[e.BoardSectionCreate=5]="BoardSectionCreate",e[e.PinCreate=6]="PinCreate",e[e.ReportBug=7]="ReportBug",e[e.Settings=8]="Settings",e[e.ErrorBannedDomain=9]="ErrorBannedDomain",e[e.ErrorNoPinDomain=10]="ErrorNoPinDomain",e))(Te||{}),D=(e=>(e[e.FROM_CONTEXT_MENU=0]="FROM_CONTEXT_MENU",e[e.FROM_PRIMARY_ACTION_BUTTON=1]="FROM_PRIMARY_ACTION_BUTTON",e[e.FROM_SAVE_PICKER=2]="FROM_SAVE_PICKER",e))(D||{}),J=(e=>(e[e.BANNED_DOMAIN=0]="BANNED_DOMAIN",e[e.NO_PIN_DOMAIN=1]="NO_PIN_DOMAIN",e))(J||{});const pe="pinterest-save-extension",be="https://help.pinterest.com/en/save-extension/oauth-access-token",Oe=null,oe={[D.FROM_CONTEXT_MENU]:"context_menu",[D.FROM_PRIMARY_ACTION_BUTTON]:"pinterest_button",[D.FROM_SAVE_PICKER]:"hover"},Ve=2048,ye=1447723,K=/^https?:\/\/([a-z]*\.|)pinterest\.(at|(c(a|h|l|o(\.(kr|uk)|m(|\.(au|mx)))))|d(e|k)|es|fr|i(e|t)|jp|nz|p(h|t)|se|ru)\//,re="https://pinterest.com",le=/pin\/(\d+|[0-9a-zA-Z\-_]{40,})(\/\?.*)?/,fe=new RegExp(K.source+le.source),Me=e=>e&&e.match(fe),Ne={allowPinterestRepinning:!1,allowWhatsApp:!1},Fe=".pinterest.com",Ke={cctld:"/secure/autologin/"},$=10,E=250,g=[/^https?:\/\/mail\.aol\.com\//,/^https?:\/\/(.*?\.|)atmail\.com\//,/^https?:\/\/(.*?\.|)contactoffice\.com\//,/^https?:\/\/(.*?\.|)fastmail\.fm\//,/^https?:\/\/(.*?\.|)webmail\.gandi\.net\//,/^https?:\/\/outlook\.live\.com\//,/^https?:\/\/(.*?\.|)mail\.live\.com\//,/^https?:\/\/post\.pinterest\.com\//,/^https?:\/\/mail\.ukr\.net\//,/^https?:\/\/outlook\.office\.com\//,/^https?:\/\/mail\.google\.com\//,/^https?:\/\/inbox\.google\.com\//,/^https?:\/\/(.*?\.|)hushmail\.com\//,/^https?:\/\/(.*?\.|)laposte\.fr\//,/^https?:\/\/mail\.lycos\.com\//,/^https?:\/\/(.*?\.|)mail\.com\//,/^https?:\/\/(.*?\.|)mail\.ru\//,/^https?:\/\/(.*?\.|)opolis\.eu\//,/^https?:\/\/(.*?\.|)outlook\.com\//,/^https?:\/\/(.*?\.|)nokiamail\.com\//,/^https?:\/\/apps\.rackspace\.com\//,/^https?:\/\/mail\.rediff\.com\//,/^https?:\/\/(.*?\.|)runbox\.com\//,/^https?:\/\/mail\.sify\.com\//,/^https?:\/\/webmail\.thexyz\.com\//,/^https?:\/\/login\.yahoo\.com\//,/^https?:\/\/mail\.yahoo\.com\//,/^https?:\/\/mail\.yandex\.com\//],h=/^https?:\/\//,_=["png","jpg","jpeg","gif","webp"],v=new RegExp(`^data:image\\/(${_.join("|")});base64`),O=new RegExp(`^image\\/(${_.join("|")})$`),y=/^blob:/,M=[...[/^https?:\/\/(.*?\.|)craigslist\.org\//,/^https?:\/\/(.*?\.|)chase\.com\//,/^https?:\/\/plus\.google\.com\//,/^https?:\/\/accounts\.google\.com\//,/^https?:\/\/myaccount\.google\.com\//,/^https?:\/\/docs\.google\.com\//,/^https?:\/\/gmx\.com\//],...g],S=[/08fb2eb6424d/,/1529ad2b2cc8/,/1847807c0ea1/,/1d1d5ffa1d50/,/20c46b653b00/,/25f7c9982cea/,/293aa4f9b3d0/,/32aa39d04eb4/,/415215dcadbf/,/540b2374abf1/,/6f145d4255cf/,/71c1f4783e6d/,/79f57d83d54a/,/820a6e7baa0f/,/85ae87da6618/,/871de03c9980/,/8c2d5961f7af/,/8de5d416e5d2/,/95fa195f8b6a/,/9e2089d8b8f2/,/cefdc93047b7/,/dbafdf055617/,/eefa602a72ed/,/efa3a2deb839/],H="0123456789abcdef",q=e=>e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514,U=e=>{const t=Array(e.length>>2);for(let n=0;n<t.length;n++)t[n]=0;for(let n=0;n<e.length*8;n+=8)t[n>>5]|=(e.charCodeAt(n/8)&255)<<24-n%32;return t},ce=e=>{let t="";for(let n=0;n<e.length*32;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t},V=(e,t)=>{const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535},we=(e,t)=>e<<t|e>>>32-t,Ut=(e,t,n,u)=>e<20?t&n|~t&u:e<40?t^n^u:e<60?t&n|t&u|n&u:t^n^u,Lt=(e,t)=>{e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;const n=Array(80);let u=1732584193,a=-271733879,s=-1732584194,i=271733878,r=-1009589776;for(let o=0;o<e.length;o+=16){const c=u,m=a,p=s,l=i,d=r;for(let A=0;A<80;A++){A<16?n[A]=e[o+A]:n[A]=we(n[A-3]^n[A-8]^n[A-14]^n[A-16],1);const B=V(V(we(u,5),Ut(A,a,s,i)),V(V(r,n[A]),q(A)));r=i,i=s,s=we(a,30),a=u,u=B}u=V(u,c),a=V(a,m),s=V(s,p),i=V(i,l),r=V(r,d)}return[u,a,s,i,r]},kt=e=>ce(Lt(U(e),e.length*8)),jt=e=>{let t="";for(let n=0;n<e.length;n++){const u=e.charCodeAt(n);t=t+H.charAt(u>>>4&15)+H.charAt(u&15)}return t};function $e(e){return jt(kt(e))}function he({currentConfig:e,pinmarkletDebugger:t,str:n}){return e.sha||(t("setting up hash repo"),e.sha={}),e.sha[n]||(e.sha[n]=$e(n)),e.sha[n]}function Ye({currentUrl:e}){return M.find(t=>e.match(t))}function We(e){const t=e.split("/");let n=[];if(t[2]){const u=t[2].split(".");if(u.length>1){const a=[...u].reverse();n=a.map((s,i)=>i===0?null:[...a.slice(0,i),s].reverse().join(".")).filter(Boolean)}}return n}function Xe({currentUrl:e}){return Ye({currentUrl:e})?!1:!We(e).find(u=>{const a=$e(u);return S.find(s=>a.match(s))})}function zt({currentConfig:e,currentUrl:t,pinmarkletDebugger:n,pinmarkletLogger:u}){return Ye({currentUrl:t})?(u({reason:"disallowed_domain_list_match"}),!1):!We(t).find(i=>{const r=he({currentConfig:e,str:i,pinmarkletDebugger:n});return S.find(o=>r.match(o))})}function Gt(e){console.log(`%cP%c ${e}`,"color:#fff;background:#E60023;font-weight:bold;border-radius:2px;display:inline-block;padding:0 4px;","")}function aa(e,t){t?console.timeEnd(e):console.time(e)}const F={PIN_CREATE:1,VIEW:13,BOARD_CREATE:20,USER_FOLLOW:45,CLICK:101,SAVE_BROWSER_PIN_IMAGES_REQUESTED:14563,SAVE_BROWSER_PIN_IMAGES_FOUND:2900,SAVE_BROWSER_PIN_IMAGES_NOT_FOUND:2901,PIN_CREATE_FAILURE:7564,PIN_CREATE_ATTEMPTED:14564,USER_ACTIVE:7137,INSTALL:8219,BROWSER_SESSION:8221,UPDATE:8222,BROWSER_EXTENSION_BOOKMARKS_FOUND:9001,BROWSER_EXTENSION_BOOKMARKS_CREATE_SUCCESS:9002,OFFSITE_SAVE_ENTER:14703,OFFSITE_SAVE_BOARDS_LOADED:15401,OFFSITE_SAVE_BOARDS_NOT_LOADED:15402,USER_LOGIN_SUCCESS:38,USER_LOGIN_FAILED:39,USER_LOGIN_ATTEMPT:50,USER_LOGOUT_SUCCESS:8112},Ze={BOARD_PICKER:21,VISUAL_SEARCH:43,BROWSER_EXTENSION_DAU:192,IMAGE_PICKER:268,CREATE_BOARD:269,PIN_CREATE_SUCCESS:270,FOLLOW_FROM_SAVE:271,FOLLOW_FROM_SAVE_SUCCESS:272,BOARD_SECTION_CREATE:274,BOARD_SECTION_PICKER:275,BROWSER_EXTENSION_OPTIONS:276,HOVER_BOARD_OPENER:277,HOVER_BOARD_PICKER:278,VISUAL_SEARCH_RESULTS:279,BROWSER_EXTENSION_REPORT_BUG:280,BOARD_PICKER_ALL_BOARDS:3989},de={PIN_BOARD:5,BOARD_COVER:36,BOARD_PICKER:67,CREATE_BUTTON:44,PIN_SAVE_BUTTON:48,NEXT_BUTTON:96,SECTION_COVER:11854,SAVE_BUTTON:12018,VISIT_BUTTON:12796,PRIMARY_ACTION_BUTTON:13004,SHARE_EXTENSION_IMAGE:701,PROFILE_AVATAR:1242},sa={BROWSER_EXTENSION:8},ia={OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:7},oa={VIEWING_IPS:0,FEATURE_ISSUE:1,PUBLISH_ISSUE:2,USER_COMPREHENSION:3,OTHER:4,BROWSER_EXTENSION_ISSUE:5};var Y=He(531),Ht=Object.defineProperty,Qe=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,Je=(e,t,n)=>t in e?Ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_e=(e,t)=>{for(var n in t||(t={}))Vt.call(t,n)&&Je(e,n,t[n]);if(Qe)for(var n of Qe(t))Kt.call(t,n)&&Je(e,n,t[n]);return e};const qe=e=>{const{type:t,action:n,payload:u,onSuccess:a,onError:s}=e;Y.runtime.sendMessage({type:t,action:n,payload:u}).then(i=>{i!=null&&i.error?s&&s(i.error):a&&a(i)},i=>{s&&s(i)})},Re=({elementObjectTypes:e,elementValue:t})=>{var n;return((n=Object.entries(e).find(([,u])=>u===t))==null?void 0:n[0])||""},et=({eventType:e,viewType:t,auxData:n,element:u,objectIdStr:a})=>{z.DEVELOPMENT==="production"&&Gt(`[CONTEXT_LOG] event:${Re({elementObjectTypes:F,elementValue:e})} view:${Re({elementObjectTypes:Ze,elementValue:t})} element:${Re({elementObjectTypes:de,elementValue:u})} auxData:${n?JSON.stringify(n):""} pinId:${a||""}`);for(const s in n)(typeof n[s]=="number"||typeof n[s]=="boolean")&&(n[s]=String(n[s]));qe({type:T.API_REQUEST,action:Q.LOG_EVENT,payload:_e(_e(_e(_e({eventType:e},t&&{viewType:t}),u&&{element:u}),a&&{objectIdStr:a}),n&&{auxData:n})})},L=({eventType:e,viewType:t,auxData:n,element:u,objectIdStr:a})=>{et({eventType:e,viewType:t,element:u,auxData:n,objectIdStr:a})},ra=({eventType:e,viewType:t,auxData:n,element:u,objectIdStr:a})=>{et({eventType:e,viewType:t,element:u,auxData:n,objectIdStr:a})},la=({tab:e,type:t,action:n,payload:u})=>{tabs.sendMessage(e,{type:t,action:n,payload:u})},tt=({element:e,action:t,payload:n})=>{e.postMessage({target:pe,action:t,payload:n},"*")};function ee(){return[1e7,1e3,4e3,8e3,1e11].join("").replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}const nt=e=>document.cookie.split(";").reduce((t,n)=>{const u=n.trim().split("=");return u[0]===e?decodeURIComponent(u[1]):t},"");function $t(){let e=nt("access_token");const t=nt("state"),n=ee();if(!e||!t||typeof e!="string"||e.length<10)return!1;e=e.replace(/"/g,""),Y.runtime.sendMessage({type:T.LIFECYCLE_EVENT,action:se.SETUP_OATH_FLOW,payload:{accessToken:e,state:t}}).then(u=>{var a;((a=u==null?void 0:u.data)==null?void 0:a.status)===ie.SUCCESS&&(L({eventType:F.USER_LOGIN_SUCCESS,auxData:{funnel_uuid:n}}),window.close())},()=>{L({eventType:F.USER_LOGIN_FAILED,auxData:{funnel_uuid:n}})})}const Yt=e=>e.toString().replace(/^(http:\/\/|https:\/\/)?([^/?#]*).*$/,"$2");var Wt=Object.defineProperty,ut=Object.getOwnPropertySymbols,Xt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,at=(e,t,n)=>t in e?Wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,st=(e,t)=>{for(var n in t||(t={}))Xt.call(t,n)&&at(e,n,t[n]);if(ut)for(var n of ut(t))Zt.call(t,n)&&at(e,n,t[n]);return e},Qt=(e,t,n)=>new Promise((u,a)=>{var s=o=>{try{r(n.next(o))}catch(c){a(c)}},i=o=>{try{r(n.throw(o))}catch(c){a(c)}},r=o=>o.done?u(o.value):Promise.resolve(o.value).then(s,i);r((n=n.apply(e,t)).next())});const Ue=["config","extensionSettings","boards"],Jt={isSaveButtonInjected:!1,isSaveButtonDisplayed:!1,isAppIframeInjected:!1,isAppIframeDisplayed:!1,lastScrollTime:0,saveButton:{},appIframe:{}};function qt(e){let t=e;const n=()=>t,u=r=>{t=st(st({},t),r)},a=()=>{var r,o;(r=t.appIframeMutationObserver)==null||r.disconnect(),(o=t.saveButtonMutationObserver)==null||o.disconnect()};return{getContentScriptState:n,setContentScriptState:u,clearContentState:()=>{a(),t=e},clearAppIframeState:()=>{var r;t.isAppIframeInjected=e.isAppIframeInjected,t.isAppIframeDisplayed=e.isAppIframeDisplayed,(r=t.appIframeMutationObserver)==null||r.disconnect(),t.appIframeMutationObserver=e.appIframeMutationObserver,t.appIframe=e.appIframe}}}function en(){return Qt(this,null,function*(){const e=yield Y.storage.local.get(Ue);for(const t of Ue)if(t==="boards"){const n=(e[t]||[])[0];b({lastSavedToBoard:n})}else b({[t]:e[t]});Y.storage.local.onChanged.addListener(t=>{const n=Object.keys(t);for(const u of Ue)if(n.includes(u))if(u==="boards"){const a=(t[u].newValue||[])[0];b({lastSavedToBoard:a})}else b({[u]:t[u].newValue})})})}const{getContentScriptState:C,setContentScriptState:b,clearContentState:da,clearAppIframeState:it}=qt(Jt),tn={en:{noPinDomain:"Sorry, pinning is not allowed from this domain. Please contact the site operator if you have any questions.",noPinMeta:"Sorry, pinning is not allowed from this page. Please contact the site operator if you have any questions.",noPinnablesFound:"Sorry, couldn't find any pinnable things on this page."},cs:{noPinDomain:"Je n\xE1m l\xEDto. Z t\xE9to dom\xE9ny nen\xED mo\u017En\xE9 p\u0159id\xE1vat piny. S dotazy se obracejte na provozovatele webu.",noPinMeta:"Je n\xE1m l\xEDto. Z t\xE9to str\xE1nky nen\xED mo\u017En\xE9 p\u0159id\xE1vat piny. S dotazy se obracejte na provozovatele webu.",noPinnablesFound:"Je n\xE1m l\xEDto. Na t\xE9to str\xE1nce jsme nenalezli \u017E\xE1dn\xFD obsah, kter\xFD by bylo mo\u017En\xE9 p\u0159ipnout."},da:{noPinDomain:"Det er ikke muligt at tilf\xF8je pins fra dom\xE6net. Kontakt websitets ejer, hvis du har sp\xF8rgsm\xE5l.",noPinMeta:"Det er ikke tilladt at s\xE6tte pins op fra denne side. Kontakt websitets ejer, hvis du har sp\xF8rgsm\xE5l.",noPinnablesFound:"Der er ikke rigtigt noget at s\xE6tte op p\xE5 denne side."},de:{noPinDomain:"Es tut uns leid, aber von dieser Domain kann nichts gepinnt werden. Bitte kontaktiere den Website-Betreiber, falls du weitere Fragen hast.",noPinMeta:"Es tut uns leid, aber von dieser Seite kann nichts gepinnt werden. Bitte kontaktiere den Website-Betreiber, falls du weitere Fragen hast.",noPinnablesFound:"Es tut uns leid, aber wir konnten auf dieser Seite nichts finden, was du pinnen k\xF6nntest."},es:{noPinDomain:"Lo sentimos, no est\xE1 permitido pinear desde este dominio. Ponte en contacto con el operador del sitio si tienes alguna pregunta.",noPinMeta:"Lo sentimos, no est\xE1 permitido pinear desde esta p\xE1gina. Ponte en contacto con el operador del sitio si tienes alguna pregunta.",noPinnablesFound:"Lo sentimos, no hemos encontrado ning\xFAn elemento que se pueda pinear en esta p\xE1gina."},"es-mx":{noPinDomain:"Lamentablemente, no est\xE1 permitido pinear desde este dominio. Si quieres hacer consultas, comun\xEDcate con el operador del sitio.",noPinMeta:"Lamentablemente, no est\xE1 permitido pinear desde esta p\xE1gina. Si quieres hacer consultas, comun\xEDcate con el operador del sitio.",noPinnablesFound:"Lamentablemente, no se encontraron cosas para pinear en esta p\xE1gina."},el:{noPinDomain:"\u039B\u03C5\u03C0\u03AC\u03BC\u03B1\u03B9, \u03B4\u03B5\u03BD \u03B5\u03C0\u03B9\u03C4\u03C1\u03AD\u03C0\u03B5\u03C4\u03B1\u03B9 \u03C4\u03BF \u03BA\u03B1\u03C1\u03C6\u03AF\u03C4\u03C3\u03C9\u03BC\u03B1 \u03B1\u03C0\u03CC \u03B1\u03C5\u03C4\u03CC\u03BD \u03C4\u03BF\u03BD \u03C4\u03BF\u03BC\u03AD\u03B1. \u0395\u03C0\u03B9\u03BA\u03BF\u03B9\u03BD\u03C9\u03BD\u03AE\u03C3\u03C4\u03B5 \u03BC\u03B5 \u03C4\u03BF \u03B4\u03B9\u03B1\u03C7\u03B5\u03B9\u03C1\u03B9\u03C3\u03C4\u03AE \u03C4\u03B7\u03C2 \u03B9\u03C3\u03C4\u03BF\u03C3\u03B5\u03BB\u03AF\u03B4\u03B1\u03C2 \u03B1\u03BD \u03AD\u03C7\u03B5\u03C4\u03B5 \u03B1\u03C0\u03BF\u03C1\u03AF\u03B5\u03C2.",noPinMeta:"\u039B\u03C5\u03C0\u03AC\u03BC\u03B1\u03B9, \u03B4\u03B5\u03BD \u03B5\u03C0\u03B9\u03C4\u03C1\u03AD\u03C0\u03B5\u03C4\u03B1\u03B9 \u03C4\u03BF \u03BA\u03B1\u03C1\u03C6\u03AF\u03C4\u03C3\u03C9\u03BC\u03B1 \u03B1\u03C0\u03CC \u03B1\u03C5\u03C4\u03AE\u03BD \u03C4\u03B7 \u03C3\u03B5\u03BB\u03AF\u03B4\u03B1. \u0395\u03C0\u03B9\u03BA\u03BF\u03B9\u03BD\u03C9\u03BD\u03AE\u03C3\u03C4\u03B5 \u03BC\u03B5 \u03C4\u03BF \u03B4\u03B9\u03B1\u03C7\u03B5\u03B9\u03C1\u03B9\u03C3\u03C4\u03AE \u03C4\u03B7\u03C2 \u03B9\u03C3\u03C4\u03BF\u03C3\u03B5\u03BB\u03AF\u03B4\u03B1\u03C2 \u03B1\u03BD \u03AD\u03C7\u03B5\u03C4\u03B5 \u03B1\u03C0\u03BF\u03C1\u03AF\u03B5\u03C2.",noPinnablesFound:"\u039B\u03C5\u03C0\u03AC\u03BC\u03B1\u03B9, \u03B4\u03B5\u03BD \u03AE\u03C4\u03B1\u03BD \u03B4\u03C5\u03BD\u03B1\u03C4\u03AE \u03B7 \u03B5\u03CD\u03C1\u03B5\u03C3\u03B7 \u03C3\u03C4\u03BF\u03B9\u03C7\u03B5\u03AF\u03C9\u03BD \u03C0\u03BF\u03C5 \u03BC\u03C0\u03BF\u03C1\u03BF\u03CD\u03BD \u03BD\u03B1 \u03BA\u03B1\u03C1\u03C6\u03B9\u03C4\u03C3\u03C9\u03B8\u03BF\u03CD\u03BD \u03C3\u03B5 \u03B1\u03C5\u03C4\u03AE\u03BD \u03C4\u03B7 \u03C3\u03B5\u03BB\u03AF\u03B4\u03B1."},fi:{noPinDomain:"Et voi tehd\xE4 Pin-lis\xE4yksi\xE4 t\xE4st\xE4 verkkotunnuksesta. Jos sinulla on kysytt\xE4v\xE4\xE4, ota yhteytt\xE4 sivuston yll\xE4pit\xE4j\xE4\xE4n.",noPinMeta:"Et voi tehd\xE4 Pin-lis\xE4yksi\xE4 t\xE4lt\xE4 sivulta. Jos sinulla on kysytt\xE4v\xE4\xE4, ota yhteytt\xE4 sivuston yll\xE4pit\xE4j\xE4\xE4n.",noPinnablesFound:"Sivulta ei valitettavasti l\xF6ydy sis\xE4lt\xF6\xE4, jota voi lis\xE4t\xE4."},fr:{noPinDomain:"D\xE9sol\xE9, mais vous ne pouvez pas \xE9pingler les contenus de ce domaine. Pour toute question, veuillez contacter l'administrateur du site.",noPinMeta:"D\xE9sol\xE9, mais vous ne pouvez pas \xE9pingler les contenus de cette page. Pour toute question, veuillez contacter l'administrateur du site.",noPinnablesFound:"D\xE9sol\xE9, mais aucun contenu susceptible d'\xEAtre \xE9pingl\xE9 n'a \xE9t\xE9 trouv\xE9 sur cette page."},id:{noPinDomain:"Maaf, Anda tidak diizinkan mengepin dari domain ini. Hubungi operator situs jika Anda memiliki pertanyaan.",noPinMeta:"Maaf, Anda tidak diizinkan mengepin dari halaman ini. Silakan hubungi operator situs jika Anda memiliki pertanyaan.",noPinnablesFound:"Maaf, tidak ada yang bisa dipin dari halaman ini."},it:{noPinDomain:"Ci dispiace, ma l'aggiunta di Pin non \xE8 consentita da questo dominio. Se hai domande, contatta il gestore del sito.",noPinMeta:"Ci dispiace, ma l'aggiunta di Pin non \xE8 consentita da questa pagina. Se hai domande, contatta il gestore del sito.",noPinnablesFound:"Spiacenti, impossibile trovare immagini o video che \xE8 possibile aggiungere ai Pin in questa pagina."},hi:{noPinDomain:"\u0915\u094D\u0937\u092E\u093E \u0915\u0930\u0947\u0902, \u0907\u0938 \u0921\u094B\u092E\u0947\u0928 \u0938\u0947 \u092A\u093F\u0928 \u0932\u0917\u093E\u0928\u0947 \u0915\u0940 \u0905\u0928\u0941\u092E\u0924\u093F \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u0905\u0917\u0930 \u0906\u092A\u0915\u093E \u0915\u094B\u0908 \u092A\u094D\u0930\u0936\u094D\u0928 \u0939\u0948\u0902, \u0924\u094B \u0915\u0943\u092A\u092F\u093E \u0938\u093E\u0907\u091F \u0911\u092A\u0930\u0947\u091F\u0930 \u0938\u0947 \u0938\u0902\u092A\u0930\u094D\u0915 \u0915\u0930\u0947\u0902\u0964",noPinMeta:"\u0915\u094D\u0937\u092E\u093E \u0915\u0930\u0947\u0902, \u0907\u0938 \u092A\u0947\u091C \u0938\u0947 \u092A\u093F\u0928 \u0932\u0917\u093E\u0928\u0947 \u0915\u0940 \u0905\u0928\u0941\u092E\u0924\u093F \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u0905\u0917\u0930 \u0906\u092A\u0915\u093E \u0915\u094B\u0908 \u092A\u094D\u0930\u0936\u094D\u0928 \u0939\u0948\u0902, \u0924\u094B \u0915\u0943\u092A\u092F\u093E \u0938\u093E\u0907\u091F \u0911\u092A\u0930\u0947\u091F\u0930 \u0938\u0947 \u0938\u0902\u092A\u0930\u094D\u0915 \u0915\u0930\u0947\u0902\u0964",noPinnablesFound:"\u0915\u094D\u0937\u092E\u093E \u0915\u0930\u0947\u0902, \u0907\u0938 \u092A\u0947\u091C \u092A\u0930 \u0915\u094B\u0908 \u092D\u0940 \u092A\u093F\u0928 \u0932\u0917\u093E\u0928\u0947 \u0935\u093E\u0932\u0940 \u091A\u0940\u095B \u0928\u0939\u0940\u0902 \u092E\u093F\u0932 \u0938\u0915\u0940\u0964"},hu:{noPinDomain:"Sajn\xE1ljuk, ebb\u0151l a tartom\xE1nyb\xF3l nem lehet pinelni. K\xE9rj\xFCk, k\xE9rd\xE9seiddel fordulj az oldal \xFCzemeltet\u0151j\xE9hez.",noPinMeta:"Sajn\xE1ljuk, err\u0151l az oldalr\xF3l nem lehet pinelni. K\xE9rj\xFCk, k\xE9rd\xE9seiddel fordulj az oldal \xFCzemeltet\u0151j\xE9hez.",noPinnablesFound:"Sajn\xE1ljuk, ezen az oldalon nem tal\xE1lhat\xF3 semmilyen pinelhet\u0151 dolog."},ja:{noPinDomain:"\u3057\u8A33\u3042\u308A\u307E\u305B\u3093\u3002HTML \u4EE5\u5916\u306E\u30DA\u30FC\u30B8\u3067\u30D4\u30F3\u3059\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093\u3002\u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u3088\u3046\u3068\u8A66\u307F\u3066\u3044\u308B\u5834\u5408\u306F\u3001pinterest.com \u306B\u30A2\u30AF\u30BB\u30B9\u3057\u3066\u304F\u3060\u3055\u3044\u3002",noPinMeta:"\u3053\u306E\u30DA\u30FC\u30B8\u304B\u3089\u306E\u30D4\u30F3\u306F\u8A31\u53EF\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002\u3054\u8CEA\u554F\u304C\u3042\u308B\u5834\u5408\u306F\u3001\u30B5\u30A4\u30C8\u904B\u55B6\u8005\u306B\u304A\u554F\u3044\u5408\u308F\u305B\u304F\u3060\u3055\u3044\u3002",noPinnablesFound:"\u7533\u3057\u8A33\u3054\u3056\u3044\u307E\u305B\u3093\u3001\u3053\u306E\u30DA\u30FC\u30B8\u3067\u30D4\u30F3\u3067\u304D\u308B\u30A2\u30A4\u30C6\u30E0\u306F\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002"},ko:{noPinDomain:"\uC8C4\uC1A1\uD569\uB2C8\uB2E4. \uC774 \uB3C4\uBA54\uC778\uC5D0\uC11C\uB294 \uD540\uD558\uAE30\uAC00 \uD5C8\uC6A9\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uC9C8\uBB38\uC774 \uC788\uC73C\uC2DC\uBA74 \uC0AC\uC774\uD2B8 \uC6B4\uC601\uC790\uC5D0\uAC8C \uBB38\uC758\uD558\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.",noPinMeta:"\uC8C4\uC1A1\uD569\uB2C8\uB2E4. \uC774 \uD398\uC774\uC9C0\uC5D0\uC11C\uB294 \uD540\uD558\uAE30\uAC00 \uD5C8\uC6A9\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uC9C8\uBB38\uC774 \uC788\uC73C\uC2DC\uBA74 \uC0AC\uC774\uD2B8 \uC6B4\uC601\uC790\uC5D0\uAC8C \uBB38\uC758\uD558\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.",noPinnablesFound:"\uC8C4\uC1A1\uD569\uB2C8\uB2E4. \uC774 \uD398\uC774\uC9C0\uC5D0\uC11C \uD540\uD560 \uC218 \uC788\uB294 \uAC83\uC744 \uCC3E\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4."},ms:{noPinDomain:"Maaf, mengepin tidak dibenarkan dari domain ini. Sila hubungi pengendali laman jika anda ada sebarang solan.",noPinMeta:"Maaf, mengepin tidak dibenarkan dari halaman ini. Sila hubungi pengendali laman jika anda ada sebarang soalan.",noPinnablesFound:"Maaf, tidak dapat mencari sebarang imej yang boleh dipin pada halaman ini."},nb:{noPinDomain:"Beklager, pinning er ikke tillatt fra dette domenet. Ta kontakt med webmasteren hvis du har sp\xF8rsm\xE5l.",noPinMeta:"Beklager, pinning er ikke tillatt fra denne siden. Ta kontakt med webmasteren hvis du har sp\xF8rsm\xE5l.",noPinnablesFound:"Beklager, kunne ikke finne noen ting som kunne pinnes p\xE5 denne siden."},nl:{noPinDomain:"Sorry, het is niet toegestaan om vanaf dit domein te pinnen. Neem contact op met de beheerder van deze website als je vragen hebt.",noPinMeta:"Sorry, het is niet toegestaan om vanaf dit domein te pinnen. Neem contact op met de beheerder van deze website als je vragen hebt.",noPinnablesFound:"Sorry, er is niets wat je kunt pinnen op deze pagina."},pl:{noPinDomain:"Niestety przypinanie z tej domeny jest niedozwolone. Skontaktuj si\u0119 z operatorem witryny, je\u015Bli masz pytania.",noPinMeta:"Niestety przypinanie z tej strony jest niedozwolone. Skontaktuj si\u0119 z operatorem witryny, je\u015Bli masz pytania.",noPinnablesFound:"Niestety na tej stronie nie ma \u017Cadnych rzeczy do przypinania."},pt:{noPinDomain:"Lamentamos, mas n\xE3o \xE9 permitido afixar pins a partir deste dom\xEDnio. Em caso de d\xFAvidas, contacta o operador do site.",noPinMeta:"Lamentamos, mas n\xE3o \xE9 permitido afixar pins a partir desta p\xE1gina. Em caso de d\xFAvidas, contacta o operador do site.",noPinnablesFound:"Lamentamos, mas n\xE3o foi poss\xEDvel encontrar nesta p\xE1gina nenhum conte\xFAdo que possa ser afixado."},"pt-br":{noPinDomain:"N\xE3o \xE9 poss\xEDvel pinar a partir deste dom\xEDnio. Entre em contato com o operador do site se tiver d\xFAvidas.",noPinMeta:"N\xE3o \xE9 poss\xEDvel pinar a partir desta p\xE1gina. Entre em contato com o operador do site se tiver d\xFAvidas.",noPinnablesFound:"N\xE3o foi poss\xEDvel encontrar nesta p\xE1gina conte\xFAdo que possa ser pinado."},ro:{noPinDomain:"Ne pare r\u0103u, nu se pot ad\u0103uga Pinuri de pe acest site. Te rug\u0103m s\u0103-l contactezi pe operatorul site-ului dac\u0103 ai \xEEntreb\u0103ri.",noPinMeta:"Ne pare r\u0103u, nu se pot ad\u0103uga Pinuri de pe aceast\u0103 pagin\u0103. Te rug\u0103m s\u0103-l contactezi pe operatorul site-ului dac\u0103 ai \xEEntreb\u0103ri.",noPinnablesFound:"Ne pare r\u0103u, nu am putut g\u0103si con\u021Binut pentru ad\u0103ugat ca Pinuri pe aceast\u0103 pagin\u0103."},ru:{noPinDomain:"\u041A \u0441\u043E\u0436\u0430\u043B\u0435\u043D\u0438\u044E, \u043F\u0440\u0438\u043A\u0430\u043B\u044B\u0432\u0430\u043D\u0438\u0435 \u041F\u0438\u043D\u043E\u0432 \u0432 \u0434\u0430\u043D\u043D\u043E\u043C \u0434\u043E\u043C\u0435\u043D\u0435 \u043D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E. \u0421\u043E \u0432\u0441\u0435\u043C\u0438 \u0432\u043E\u043F\u0440\u043E\u0441\u0430\u043C\u0438 \u043E\u0431\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044C \u043A \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0443 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0430.",noPinMeta:"\u041A \u0441\u043E\u0436\u0430\u043B\u0435\u043D\u0438\u044E, \u043F\u0440\u0438\u043A\u0430\u043B\u044B\u0432\u0430\u043D\u0438\u0435 \u041F\u0438\u043D\u043E\u0432 \u0441 \u0434\u0430\u043D\u043D\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B \u043D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E. \u0421\u043E \u0432\u0441\u0435\u043C\u0438 \u0432\u043E\u043F\u0440\u043E\u0441\u0430\u043C\u0438 \u043E\u0431\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044C \u043A \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0443 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0430.",noPinnablesFound:"\u041D\u0430 \u044D\u0442\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435 \u043D\u0435\u0442 \u043D\u0438\u0447\u0435\u0433\u043E, \u0447\u0442\u043E \u043C\u043E\u0436\u043D\u043E \u0431\u044B\u043B\u043E \u0431\u044B \u043F\u0440\u0438\u043A\u043E\u043B\u043E\u0442\u044C."},sk:{noPinDomain:"Prep\xE1\u010Dte, z tejto dom\xE9ny si nem\xF4\u017Eete prip\xEDna\u0165 piny. Kontaktujte prev\xE1dzkovate\u013Ea str\xE1nky, ak m\xE1te nejak\xE9 ot\xE1zky.",noPinMeta:"Prep\xE1\u010Dte, z tejto str\xE1nky si nem\xF4\u017Eete prip\xEDna\u0165 piny. Kontaktujte prev\xE1dzkovate\u013Ea str\xE1nky, ak m\xE1te nejak\xE9 ot\xE1zky.",noPinnablesFound:"Prep\xE1\u010Dte, na tejto str\xE1nke sme nena\u0161li ni\u010D na pripnutie."},sv:{noPinDomain:"Tyv\xE4rr g\xE5r det inte att pinna fr\xE5n den h\xE4r dom\xE4nen. Kontakta webbplatsoperat\xF6ren om du har fr\xE5gor.",noPinMeta:"Det g\xE5r inte att pinna fr\xE5n den h\xE4r sidan. Kontakta webbplatsoperat\xF6ren om du har fr\xE5gor.",noPinnablesFound:"Det gick inte att hitta n\xE5got p\xE5 den h\xE4r sidan som g\xE5r att pinna."},th:{noPinDomain:"\u0E02\u0E2D\u0E2D\u0E20\u0E31\u0E22 \u0E42\u0E14\u0E40\u0E21\u0E19\u0E19\u0E35\u0E49\u0E44\u0E21\u0E48\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E1B\u0E31\u0E01\u0E1E\u0E34\u0E19 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E14\u0E39\u0E41\u0E25\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C\u0E2B\u0E32\u0E01\u0E21\u0E35\u0E02\u0E49\u0E2D\u0E2A\u0E07\u0E2A\u0E31\u0E22",noPinMeta:"\u0E02\u0E2D\u0E2D\u0E20\u0E31\u0E22 \u0E40\u0E1E\u0E08\u0E19\u0E35\u0E49\u0E44\u0E21\u0E48\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E1B\u0E31\u0E01\u0E1E\u0E34\u0E19 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E14\u0E39\u0E41\u0E25\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C\u0E2B\u0E32\u0E01\u0E21\u0E35\u0E02\u0E49\u0E2D\u0E2A\u0E07\u0E2A\u0E31\u0E22",noPinnablesFound:"\u0E02\u0E2D\u0E2D\u0E20\u0E31\u0E22 \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E2D\u0E30\u0E44\u0E23\u0E17\u0E35\u0E48\u0E1B\u0E31\u0E01\u0E1E\u0E34\u0E19\u0E44\u0E14\u0E49\u0E43\u0E19\u0E40\u0E1E\u0E08\u0E19\u0E35\u0E49"},tl:{noPinDomain:"Sorry, hindi allowed ang pinning sa domain na 'to. Paki-contact ang site operator kung may tanong ka.",noPinMeta:"Sorry, hindi allowed ang pinning mula sa page na 'to. Paki-contact ang site operator kung may tanong ka.",noPinnablesFound:"Sorry, walang makitang puwedeng i-pin sa page na 'to."},tr:{noPinDomain:"\xDCzg\xFCn\xFCz, bu alan ad\u0131ndan pinlemeye izin verilmiyor. Sorular\u0131n\u0131z varsa, l\xFCtfen site operat\xF6r\xFCne ba\u015Fvurun.",noPinMeta:"\xDCzg\xFCn\xFCz, bu sayfadan pinlemeye izin verilmiyor. Sorular\u0131n\u0131z varsa, l\xFCtfen site operat\xF6r\xFCne ba\u015Fvurun.",noPinnablesFound:"\xDCzg\xFCn\xFCz, bu sayfada pinlenebilecek bir \u015Fey bulunamad\u0131."},uk:{noPinDomain:"\u041D\u0430 \u0436\u0430\u043B\u044C, \u043F\u0440\u0438\u043A\u043E\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0456\u043D\u0438 \u0437 \u0446\u044C\u043E\u0433\u043E \u0434\u043E\u043C\u0435\u043D\u0443 \u043D\u0435 \u043C\u043E\u0436\u043D\u0430. \u042F\u043A\u0449\u043E \u0443 \u0432\u0430\u0441 \u0432\u0438\u043D\u0438\u043A\u043B\u0438 \u0437\u0430\u043F\u0438\u0442\u0430\u043D\u043D\u044F, \u0437\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043E\u043F\u0435\u0440\u0430\u0442\u043E\u0440\u043E\u043C \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0443.",noPinMeta:"\u041D\u0430 \u0436\u0430\u043B\u044C, \u043F\u0440\u0438\u043A\u043E\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0456\u043D\u0438 \u0437 \u0446\u0456\u0454\u0457 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438 \u043D\u0435 \u043C\u043E\u0436\u043D\u0430. \u042F\u043A\u0449\u043E \u0443 \u0432\u0430\u0441 \u0432\u0438\u043D\u0438\u043A\u043B\u0438 \u0437\u0430\u043F\u0438\u0442\u0430\u043D\u043D\u044F, \u0437\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043E\u043F\u0435\u0440\u0430\u0442\u043E\u0440\u043E\u043C \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0443.",noPinnablesFound:"\u041D\u0430 \u0436\u0430\u043B\u044C, \u043C\u0438 \u043D\u0435 \u0437\u043C\u043E\u0433\u043B\u0438 \u0437\u043D\u0430\u0439\u0442\u0438 \u043D\u0430 \u0446\u0456\u0439 \u0441\u0442\u043E\u0440\u0456\u043D\u0446\u0456 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u044C, \u044F\u043A\u0456 \u043C\u043E\u0436\u043D\u0430 \u0431\u0443\u043B\u043E \u0431 \u043F\u0440\u0438\u043A\u043E\u043B\u043E\u0442\u0438."},vi:{noPinDomain:"R\u1EA5t ti\u1EBFc, kh\xF4ng cho ph\xE9p ghim t\u1EEB mi\u1EC1n n\xE0y. Vui l\xF2ng li\xEAn h\u1EC7 ng\u01B0\u1EDDi \u0111i\u1EC1u h\xE0nh trang web n\u1EBFu b\u1EA1n c\xF3 th\u1EAFc m\u1EAFc.",noPinMeta:"R\u1EA5t ti\u1EBFc, kh\xF4ng cho ph\xE9p ghim t\u1EEB trang n\xE0y. Vui l\xF2ng li\xEAn h\u1EC7 ng\u01B0\u1EDDi \u0111i\u1EC1u h\xE0nh trang web n\u1EBFu b\u1EA1n c\xF3 th\u1EAFc m\u1EAFc.",noPinnablesFound:"R\u1EA5t ti\u1EBFc, kh\xF4ng th\u1EC3 t\xECm th\u1EA5y th\u1EE9 g\xEC ghim \u0111\u01B0\u1EE3c tr\xEAn trang n\xE0y."},zh:{noPinDomain:"\u62B1\u6B49\uFF0C\u4E0D\u5141\u8BB8\u4ECE\u6B64\u57DF\u6536\u85CF Pin \u56FE\u3002\u5982\u6709\u7591\u8651\u8BF7\u8054\u7CFB\u7F51\u7AD9\u8FD0\u8425\u5546\u3002",noPinMeta:"\u62B1\u6B49\uFF0C\u4E0D\u5141\u8BB8\u4ECE\u6B64\u57DF\u6536\u85CF Pin \u56FE\u3002\u5982\u6709\u7591\u8651\u8BF7\u8054\u7CFB\u7F51\u7AD9\u8FD0\u8425\u5546\u3002",noPinnablesFound:"\u62B1\u6B49\uFF0C\u672A\u5728\u6B64\u9875\u9762\u4E2D\u627E\u5230\u53EF\u6536\u85CF\u7684 Pin \u56FE\u3002"},"zh-tw":{noPinDomain:"\u62B1\u6B49\uFF01\u4E0D\u5141\u8A31\u5F9E\u6B64\u7DB2\u57DF\u6536\u85CF\u91D8\u5716\u3002\u82E5\u6709\u7591\u554F\uFF0C\u8ACB\u806F\u7D61\u7DB2\u7AD9\u71DF\u904B\u5546\u3002",noPinMeta:"\u62B1\u6B49\uFF01\u4E0D\u5141\u8A31\u5F9E\u6B64\u7DB2\u9801\u6536\u85CF\u91D8\u5716\u3002\u82E5\u6709\u7591\u554F\uFF0C\u8ACB\u806F\u7D61\u7DB2\u7AD9\u71DF\u904B\u5546\u3002",noPinnablesFound:"\u62B1\u6B49\uFF01\u5728\u6B64\u7DB2\u9801\u4E0A\u627E\u4E0D\u5230\u4EFB\u4F55\u53EF\u6536\u85CF\u91D8\u5716\u7684\u5167\u5BB9\u3002"}},nn="v6.1.0",un={client:"web",config:{domain:"www",force:null,guid:null,noCancel:null,noHeader:null,pinbox:null,pinMethod:"bookmarklet",quality:30,quiet:!1,render:null,share:null,via:null},currentUrl:"",data:{config:null,img:{},link:{},meta:{},rich:{},script:[],thumb:[]},errorMessages:tn.en,extended:!1,experiments:Ne,imagesLoadingCount:0,insta:{},lang:"en",ogDescription:null,ogSiteName:null,override:{allowImagelessPinCreation:!0,link:!1,og:!1,runDefaultScraping:!0},sha:null,startTime:0};function an(e){let t;const n=()=>t||u(),u=()=>(typeof structuredClone=="function"?t=structuredClone(e):t=JSON.parse(JSON.stringify(e)),t.startTime=Date.now(),t);return{getConfig:n,initConfig:u}}const{getConfig:Ea,initConfig:sn}=an(un),on={id:"PIN_"+new Date().getTime(),version:nn},ot="data-pinterest-pinmarklet-rendered",rt=5e3,te=237,W=Object.freeze({INVALID:"invalid",LOADING:"loading",ERROR:"error",OK:"ok",FILTERED:"filtered"});function rn({currentConfig:e,pinmarkletLogger:t}){let n="";function u(a){if(!n)for(const s in a){const i=a[s];typeof i=="object"?u(i):typeof i=="string"&&s.match(/^gtin/i)&&(n=i.replace(/^0+/,""))}}e.data.script.forEach(a=>{u(a)}),n&&(e.data.gtin=n,t({reason:"gtin_found",extras:{gtin:n}}))}function lt({element:e,attribute:t}){return!e||!t?null:e.getAttribute(t)}function me(e){if(!e)return"";const t=(Array.isArray(e)?e[0]:e).trim();if(t.match(/\s/))return t;const n=t.split("#")[0].split("?")[0],u=new RegExp(`\\.(${_.join("|")})$`);return n.match(/^http?s:\/\//)||n.match(u)?"":n}function Ee({currentConfig:e,browserWindow:t,imageElement:n,imageless:u}){return([()=>{var m;return me((m=t.getSelection())==null?void 0:m.toString())},()=>{if(n&&n.src){const m=me(lt({element:n,attribute:"data-pin-description"}));return m||(n.title||t.document.title||"").trim()}},()=>me(e.data.meta.description||e.data.meta.title),()=>me(e.ogDescription),()=>me(t.document.title),()=>{var m;if(u)return(m=e.currentUrl.split("/").pop())==null?void 0:m.split("#")[0].split("?")[0].split(".")[0]}].find(m=>m())||(()=>""))()}function ln({h:e,s:t,v:n}){let u,a,s;e=e/60;const i=Math.floor(e),r=e-i,o=n*(1-t),c=n*(1-t*r),m=n*(1-t*(1-r));switch(i){case 0:u=n,a=m,s=o;break;case 1:u=c,a=n,s=o;break;case 2:u=o,a=n,s=m;break;case 3:u=o,a=c,s=n;break;case 4:u=m,a=o,s=n;break;case 5:u=n,a=o,s=c;break;default:}function p(l){return("00"+Math.round(l*255).toString(16)).substr(-2,2)}return"#"+p(u)+p(a)+p(s)}function dn({browserWindow:e,currentConfig:t,pinmarkletDebugger:n}){const u=t.currentUrl.split("/")[2];return{color:ln({h:parseInt(he({currentConfig:t,pinmarkletDebugger:n,str:u}).substr(0,3),16)%360,s:.25,v:.75}),description:Ee({currentConfig:t,browserWindow:e,imageless:!0}),height:te,score:te*te,siteName:t.ogSiteName||u,status:W.OK,url:t.currentUrl,width:te}}function dt({browserWindow:e,currentConfig:t}){t.data.close&&(typeof t.extendedClose=="function"?t.extendedClose():t.config.quiet||e.setTimeout(()=>{e.alert(t.data.close)},10))}const cn="https://assets.pinterest.com/ext/grid.html?",mn=Object.entries({display:"block",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",bottom:"0",right:"0",margin:"0",clip:"0","z-index":"2147483647"}).reduce((e,[t,n])=>e+`${t}: ${n};`,"");function En(e){const t=e.createElement("IFRAME");return t.id=`${on.id}_grid`,t.src=cn+new Date().getTime(),t.frameBorder="0",t.style=mn,t}function gn({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){const a=new Date().getTime(),{document:s}=e,{body:i}=s,r=i.style.overflow;i.style.overflow="hidden",n("Popping the unauthed grid"),t.data.config=t.config,t.data.browserExtensionInstalled=lt({attribute:"data-pinterest-extension-installed",element:i});const o=En(s),c=()=>{i.style.overflow=r,i.removeAttribute(ot),o.parentNode&&o.parentNode===i&&i.removeChild(o)},m=window.setTimeout(()=>{u({reason:"iframe_timeout"}),c(),t.data.close=t.errorMessages.noPinnablesFound,dt({currentConfig:t,browserWindow:e})},rt);o.onload=()=>{var p;const l=new Date().getTime()-a;n(`Grid render time: ${l}`),u({reason:"grid_rendered",time:l}),(p=o.contentWindow)==null||p.postMessage(JSON.stringify(t.data),o.src),e.addEventListener("message",d=>{window.clearTimeout(m),d.data==="x"&&c()}),o.focus()},i.setAttribute(ot,"true"),i.appendChild(o)}var An=(e=>(e[e.CLOSE=0]="CLOSE",e[e.IOS_SHARE=1]="IOS_SHARE",e[e.BROWSER_EXTENSION=2]="BROWSER_EXTENSION",e[e.GRID=3]="GRID",e))(An||{});function pn({currentConfig:e,browserWindow:t,pinmarkletDebugger:n,pinmarkletLogger:u}){return n(e.data),u({reason:"scan_complete",count:e.data.thumb.length,time:new Date().getTime()-e.startTime}),e.data.close?(dt({browserWindow:t,currentConfig:e}),0):e.config.share?(n("Sending results to IOS share extension"),t.document.body.setAttribute(e.config.share,JSON.stringify(e.data)),1):e.config.render&&typeof t[e.config.render]=="function"?(n(`Sending results to ${e.config.render}`),t[e.config.render](e.data),2):(n("Sending results to our default iframe grid overlay"),gn({browserWindow:t,currentConfig:e,pinmarkletDebugger:n,pinmarkletLogger:u}),3)}const Ie=e=>e.client==="extension"&&e.experiments.allowPinterestRepinning&&e.currentUrl.match(K);var fn=Object.defineProperty,ct=Object.getOwnPropertySymbols,hn=Object.prototype.hasOwnProperty,_n=Object.prototype.propertyIsEnumerable,mt=(e,t,n)=>t in e?fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(e,t)=>{for(var n in t||(t={}))hn.call(t,n)&&mt(e,n,t[n]);if(ct)for(var n of ct(t))_n.call(t,n)&&mt(e,n,t[n]);return e};const ne={MultimediaFinal:2,MultimediaInitial:3,PinId:10,PinMeOnly:1e6,PinUrl:4,SmallSize:.5,WithinViewport:20};function In(e){Object.keys(e.data.img).forEach(t=>{const n=e.data.img[t],u=n.modifiers,a=Et(Et({},n),u?{mod:u}:{});delete a.modifiers,e.data.img[t]=a}),e.data.thumb.forEach(t=>{t.mod=t.modifiers,delete t.modifiers}),e.data.config||delete e.data.config}const Bn=30,xn=({currentConfig:e,scoredImages:t})=>{if(Ie(e))return t.filter(a=>!!a);const n=t.filter(Boolean).sort((a,s)=>{const i=a.score||0,r=s.score||0;return i<r?1:i>r?-1:0});return n.filter(a=>{var s;return a.score&&a.score>(((s=n[0])==null?void 0:s.score)||0)/Bn})};function Sn({browserWindow:e,currentConfig:t,onResult:n,pinmarkletDebugger:u,pinmarkletLogger:a}){const s=Object.entries(t.data.img).map(([l,d])=>{var A,B,I,P,k,R,j,ae,De,Ae,Mt,Nt,Ft,wt;if(d.status!==W.OK)return null;if(d.url=t.data.url,(A=d.modifiers)!=null&&A.description&&(d.description=d.modifiers.description),(B=d.modifiers)!=null&&B.ogDescription){const na=Array.isArray(d.modifiers.ogDescription)?d.modifiers.ogDescription[0]:d.modifiers.ogDescription;d.description=na}(I=d.modifiers)!=null&&I.pinDescription&&(d.description=d.modifiers.pinDescription),d.description&&d.description.length>500&&(d.description=d.description.substring(0,500)),(P=d.modifiers)!=null&&P.url&&(d.url=d.modifiers.url),(k=d.modifiers)!=null&&k.pinUrl&&(d.url=d.modifiers.pinUrl),d.media=d.src;const x={multiplier:1,height:d.height||1,width:d.width||1};return x.width>x.height?x.width=x.height:x.height>x.width*3&&(x.height=x.width*3),(R=d.modifiers)!=null&&R.multimedia&&(x.multiplier=x.multiplier*ne.MultimediaInitial),((j=d.modifiers)!=null&&j.pinUrl||(ae=d.modifiers)!=null&&ae.pinMedia)&&(x.multiplier=x.multiplier*ne.PinUrl),(De=d.modifiers)!=null&&De.pinMeOnly&&(x.multiplier=x.multiplier*ne.PinMeOnly),(Ae=d.modifiers)!=null&&Ae.pinId&&((Mt=d.modifiers)!=null&&Mt.suppressPinIdBonus||(x.multiplier=x.multiplier*ne.PinId),d.dataPinId=d.modifiers.pinId,d.id=d.modifiers.pinId,t.override.allowImagelessPinCreation=!1),(!d.width||d.width<te)&&(x.multiplier=x.multiplier*ne.SmallSize),(Nt=d.modifiers)!=null&&Nt.multimedia&&(t.override.allowImagelessPinCreation=!1,x.multiplier=x.multiplier*ne.MultimediaFinal),(Ft=d.modifiers)!=null&&Ft.withinViewport&&(x.multiplier=x.multiplier*ne.WithinViewport),d.score=x.height*x.width*x.multiplier-(((wt=d.modifiers)==null?void 0:wt.sourceOrder)||0),d});if(t.override.allowImagelessPinCreation){const l=dn({browserWindow:e,currentConfig:t,pinmarkletDebugger:u});t.data.imageless=l,s.push(l),s.length===1&&a({reason:"imageless_only"})}t.data.thumb=xn({currentConfig:t,scoredImages:s});const i=({key:l,val:d})=>{t.data.rich[l]?u(`Ignoring duplicate rich data: ${l} - ${d}`):(u(`Adding rich data: ${l} - ${d}`),t.data.rich[l]=d)},{pin:r,og:o,description:c}=t.data.meta;[r,o].filter(Boolean).forEach(l=>{l.title&&i({key:"title",val:l.title}),l.description&&i({key:"description",val:l.description}),l.url&&i({key:"url",val:l.url})}),c&&typeof c=="string"&&i({key:"description",val:c});const{document:{title:m}}=e;m&&typeof m=="string"&&i({key:"title",val:m});const{canonical:p}=t.data.link;if(p&&i({key:"url",val:p}),Object.keys(t.insta).length>0){t.data.script.forEach(A=>{A.author&&A.author.alternateName&&(t.insta.username=A.author.alternateName)}),t.data.rich.instagram=t.insta;const l={reason:"insta_found",extras:{media_id:t.insta.id,owner_id:t.insta.owner,username:t.insta.username}},d=t.insta.hashtags;d&&(l.extras.hashtags=d),a(l)}if(rn({currentConfig:t,pinmarkletLogger:a}),In(t),n)return n(t.data);pn({browserWindow:e,currentConfig:t,pinmarkletDebugger:u,pinmarkletLogger:a})}function vn({browserWindow:e,currentConfig:t,onResult:n,pinmarkletDebugger:u,pinmarkletLogger:a}){const s=()=>{const i=()=>Sn({browserWindow:e,currentConfig:t,onResult:n,pinmarkletDebugger:u,pinmarkletLogger:a});t.imagesLoadingCount?(u("images left to load: "+t.imagesLoadingCount),Date.now()<t.startTime+rt?e.setTimeout(s,10):(u("Timed out, rendering what we have."),a({reason:"imageLoadingTimeout"}),i())):i()};return s}function Be(e){return`https://www.youtube.com/watch?v=${e}`}function Le(e){return`https://img.youtube.com/vi/${e}/hqdefault.jpg`}var xe=(e,t,n)=>new Promise((u,a)=>{var s=o=>{try{r(n.next(o))}catch(c){a(c)}},i=o=>{try{r(n.throw(o))}catch(c){a(c)}},r=o=>o.done?u(o.value):Promise.resolve(o.value).then(s,i);r((n=n.apply(e,t)).next())});const Pn=new RegExp("^https?:\\/\\/(([a-z]{1,3}|latest)\\.|)pinterest\\.(at|(c(a|h|l|o(\\.(kr|uk)|m(|\\.(au|mx)))))|d(e|k)|es|fr|i(e|t)|jp|nz|p(h|t)|se|ru)\\/pin\\/(?<id>.*)\\/.*");function Dn({currentConfig:e,hashedUrl:t,src:n}){return()=>{e.imagesLoadingCount--,Object.keys(e.data.img).forEach(u=>{var a,s;((a=e.data.img[u].modifiers)==null?void 0:a.pinMedia)===n&&((s=e.data.img[u].modifiers)==null||delete s.pinMedia)}),e.data.img[t].status=W.ERROR}}const Cn=["image/png","image/jpg","image/jpeg","image/gif"];function Tn(e){return xe(this,null,function*(){return(yield(yield fetch(e)).blob()).type})}function bn(e){return xe(this,arguments,function*({client:t,currentConfig:n,img:u}){if(u.width<90||u.height<90)return{acceptable:!1,reason:"Image dimensions are both too small."};if(u.width<120&&u.height<120)return{acceptable:!1,reason:"One image dimension is too small."};if(t!=="extension"&&u.width>u.height*3)return{acceptable:!1,reason:"Image is too wide."};if(t==="extension"){const a=u.src.match(h),s=u.src.match(v),i=!!n.experiments.allowWhatsApp&&u.src.match(y)&&Cn.includes(yield Tn(u.src));if(!a&&!s&&!i)return{acceptable:!1,reason:"Image source is not http, https, or base64 or blob with image mimeType."}}else if(!u.src.match(h))return{acceptable:!1,reason:"Image source does not begin with http/https."};return{acceptable:!0}})}function On({currentConfig:e,hashedUrl:t,img:n,modifiers:u,pinmarkletDebugger:a,preventImagelessPinCreation:s,src:i,updatedSrc:r}){return()=>xe(this,null,function*(){const{client:o}=e,{acceptable:c,reason:m}=yield bn({client:o,currentConfig:e,img:n});if(!c)return e.data.img[t]={status:W.FILTERED,reason:m,src:i.substring(0,64)},i.length>64&&(e.data.img[t].src=e.data.img[t].src+"..."),e.imagesLoadingCount--,{status:W.FILTERED};s&&(e.override.allowImagelessPinCreation=!1);const p={status:"loaded",height:n.naturalHeight||0,width:n.naturalWidth||0,src:n.src};if(p.height>te&&p.width>te&&(e.override.allowImagelessPinCreation=!1),Object.keys(p).forEach(l=>{const d=p;d[l]&&(e.data.img[t][l]=d[l])}),i===e.currentUrl&&(e.data.img[t].description="",e.override.allowImagelessPinCreation=!1),r){a(`Image source changed from ${r} to ${i}`);const l=he({currentConfig:e,pinmarkletDebugger:a,str:r});e.data.img[l]=e.data.img[t],u&&(e.data.img[l].modifiers=u),e.data.img[l].src=i,e.data.img[l].height=p.height,e.data.img[l].width=p.width,e.data.img[t]=e.data.img[l],delete e.data.img[l]}return e.data.img[t].status=W.OK,e.imagesLoadingCount--,{status:"success"}})}function w(e){return xe(this,arguments,function*({currentConfig:t,modifiers:n,pinmarkletDebugger:u,pinmarkletLogger:a,preventImagelessPinCreation:s,src:i,updatedSrc:r}){var o,c,m;const p=(m=(c=(o=n==null?void 0:n.url)==null?void 0:o.match(Pn))==null?void 0:c.groups)==null?void 0:m.id;if(p&&parseInt(p,10)&&(n.pinId=p,n.suppressPinIdBonus=!0),!i)return{imageLoaded:!1,reason:"noSrc"};if(!zt({currentConfig:t,currentUrl:i,pinmarkletDebugger:u,pinmarkletLogger:a}))return{imageLoaded:!1,reason:"domainNotAllowed"};const d=he({currentConfig:t,pinmarkletDebugger:u,str:i});if(t.data.img[d])return{imageLoaded:!1,reason:"imageAlreadyLoaded"};if(i.split("#")[0].split("?")[0].split(".").pop()==="svg")return t.data.img[d]={src:i,status:W.INVALID,reason:"SVG images are not supported on Pinterest"},{imageLoaded:!0,reason:"unsupportedSvgFormat"};const B=new Image;return t.imagesLoadingCount++,t.data.img[d]={modifiers:n||{},status:W.LOADING},B.onerror=Dn({currentConfig:t,hashedUrl:d,src:i}),B.onload=On({currentConfig:t,hashedUrl:d,img:B,modifiers:n,pinmarkletDebugger:u,preventImagelessPinCreation:s,src:i,updatedSrc:r}),B.src=i,{imageLoaded:!0}})}const gt={youtube:/^(https?:|)\/\/www\.youtube\.com\/embed\//,instagram:/^https?:\/\/www\.instagram\.com\/p\//};function At(e){return e.split("/")[4]}function yn({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){return[...e.document.getElementsByTagName("IFRAME")].map(a=>{if(a.getAttribute("nopin")||a.getAttribute("data-pin-nopin"))return{status:"nopin"};const s=a.getAttribute("src");if(!s)return{status:"Missing src"};if(!s.match(/^(https?:|)\/\//))return{status:"Invalid src"};const i=Ee({currentConfig:t,browserWindow:e}),r=s.split("#")[0].split("?")[0];if(r.match(gt.youtube)){const o=At(r);return o?(n(`Found a YouTube player: ${a.src}`),w({currentConfig:t,modifiers:{multimedia:!0,url:Be(o),description:i},pinmarkletDebugger:n,pinmarkletLogger:u,src:Le(o)}),{status:"YouTube embed -- loading image...",id:o}):{status:"YouTube embed -- missing embed id"}}if(r.match(gt.instagram)){const o=At(r);return o?(n(`Found an Instagram embed: ${a.src}`),w({currentConfig:t,modifiers:{url:`https://www.instagram.com/p/${o}/`,description:i},pinmarkletDebugger:n,pinmarkletLogger:u,src:`https://instagram.com/p/${o}/media/?size=l`}),{status:"Instagram embed -- loading image...",id:o}):{status:"Instagram embed -- missing embed id"}}return{status:"No match"}})}var Mn=(e,t,n)=>new Promise((u,a)=>{var s=o=>{try{r(n.next(o))}catch(c){a(c)}},i=o=>{try{r(n.throw(o))}catch(c){a(c)}},r=o=>o.done?u(o.value):Promise.resolve(o.value).then(s,i);r((n=n.apply(e,t)).next())});const Nn=50,Fn=/url\("?(.*?)"?\)/,wn=/image-set\((.*?)\)/,Rn=/['"]?(.*?)['"]? \d+x/;function Un(e){const t=new Set;return e.querySelectorAll("*").forEach(u=>{if(u instanceof Element){const s=window.getComputedStyle(u,null).getPropertyValue("background-image"),i=s.match(Fn);i&&t.add(i[1]);const r=s.match(wn);r&&r[1].split(",").map(c=>{const m=c.trim().match(Rn);return m?m[1]:null}).filter(Boolean).forEach(c=>{c&&t.add(c)})}}),Array.from(t)}function Ln(e){return Mn(this,null,function*(){return(yield Promise.all(e.map(n=>new Promise(u=>{const a=new Image;a.onload=()=>{const s=a;s.getAttribute=()=>null,s.getBoundingClientRect=()=>new DOMRect,s.isBgImage=!0,u(s)},a.onerror=()=>{u(null)},a.src=n,setTimeout(()=>{u(null)},Nn)})))).filter(n=>n!==null)})}function kn({currentConfig:e,pinmarkletDebugger:t,pinmarkletLogger:n}){var u;if(t("og found"),!((u=e.data.meta.og)!=null&&u.image))return{status:"noDataMetaOgImage"};const a={};if(typeof e.data.meta.og.image=="string")t("og:image found"),a.ogMedia=e.data.meta.og.image;else{let i;Array.isArray(e.data.meta.og.image)?(t("og:image array found; using the first element"),i=e.data.meta.og.image[0]):i=e.data.meta.og.image,typeof i=="string"?(t("og:image found in object"),a.ogMedia=i):i.secure_url&&typeof i.secure_url=="string"?(t("og:secure_url found"),a.ogMedia=i.secure_url):i["~"]&&typeof i["~"]=="string"&&(t("og:~ found"),a.ogMedia=i["~"])}e.data.meta.og.url&&(typeof e.data.meta.og.url=="string"?a.ogUrl=e.data.meta.og.url:(t("More than one og:url found"),a.ogUrl=e.data.meta.og.url[0]),t("og:url found")),e.data.meta.og.site_name&&(typeof e.data.meta.og.site_name=="string"?e.ogSiteName=e.data.meta.og.site_name:(t("More than one og:site_name found"),e.ogSiteName=e.data.meta.og.site_name[0]));const s=e.data.meta.og.description||e.data.meta.og.title;return s&&(t("og:title or og:description found"),a.ogDescription=s,typeof a.ogDescription=="string"?e.ogDescription=a.ogDescription:(t("More than one og:description found"),e.ogDescription=a.ogDescription[0])),t("loading og:image"),w({currentConfig:e,src:a.ogMedia,modifiers:a,pinmarkletDebugger:t,pinmarkletLogger:n}),{status:"success",modifiers:a}}const jn=/^https?:\/\/twitter\.com\//,zn=/^https?:\/\/pbs\.twimg\.com\/media\//,Gn=/^(https?:|)\/\/i.ytimg.com\/vi\//,Hn=/^https?:\/\/i\.pinimg\.com\//,Se={status:"nopin"};function pt({browserWindow:e,currentConfig:t,getImageWitinViewport:n,imgElement:u,idx:a,pinmarkletDebugger:s,pinmarkletLogger:i}){var r;if(!u.currentSrc)return{status:"noCurrentSrc"};if(u.getAttribute("nopin")||u.getAttribute("data-pin-nopin"))return Se;const o=n(u.getBoundingClientRect()),c={description:Ee({browserWindow:e,currentConfig:t,imageElement:u}),sourceOrder:a,withinViewport:o},m=u.parentElement;if((m==null?void 0:m.tagName)==="A"&&m.href){const I=m;t.currentUrl.split("/")[2]===I.href.split("/")[2]&&(I.href.match(new RegExp(`(^javascript|\\.(${_.join("|")}))`))||(c.url=I.href))}if(Ie(t)){if(!u.currentSrc.match(Hn))return Se;let I=!1,P=u.parentElement;for(;P;){if(P.tagName==="A"){const R=P.getAttribute("href");if(R&&R.match(le)){const j=new URL(re+R);j.search="",c.url=j.toString(),I=!0;break}else return Se}P=P.parentElement}if(!I&&t.currentUrl.match(fe)){const k=new URL(t.currentUrl);k.search="",c.url=k.toString(),I=!0}if(!I)return Se}u.getAttribute("data-pin-me-only")&&(c.pinMeOnly=!0);const l=u.getAttribute("data-pin-id");l&&(c.pinId=l);const d=u.getAttribute("data-pin-description");d&&(c.pinDescription=d);const A=u.getAttribute("data-pin-url");A&&(c.pinUrl=A);const B=u.getAttribute("data-pin-media");if(B?(c.pinMedia=B,B===u.currentSrc?w({currentConfig:t,modifiers:c,pinmarkletDebugger:s,pinmarkletLogger:i,src:u.currentSrc}):w({currentConfig:t,modifiers:c,pinmarkletDebugger:s,pinmarkletLogger:i,src:B,updatedSrc:u.currentSrc})):w({currentConfig:t,modifiers:c,pinmarkletDebugger:s,pinmarkletLogger:i,src:u.currentSrc}),t.currentUrl.match(jn)&&u.currentSrc.match(zn)){let I=u.parentElement;for(;I!=null&&I.tagName;){const P=I.getAttribute("data-permalink-path");if(P){c.url="https://twitter.com"+P;const k=(r=I==null?void 0:I.parentElement)==null?void 0:r.getElementsByTagName("P")[0].textContent;k&&(c.description=k),I=null}I=I==null?void 0:I.parentElement}}if(u.currentSrc.match(Gn)){const I=u.currentSrc.split("/vi/");if(I.length){const P=I[1].split("/")[0];P&&w({currentConfig:t,modifiers:{multimedia:!0,url:Be(P)},pinmarkletDebugger:s,pinmarkletLogger:i,src:`https://i.ytimg.com/vi/${P}/hqdefault.jpg`,updatedSrc:u.currentSrc})}}return{status:"success",modifiers:c}}var Vn=(e,t,n)=>new Promise((u,a)=>{var s=o=>{try{r(n.next(o))}catch(c){a(c)}},i=o=>{try{r(n.throw(o))}catch(c){a(c)}},r=o=>o.done?u(o.value):Promise.resolve(o.value).then(s,i);r((n=n.apply(e,t)).next())});function Kn(e){return"isBgImage"in e&&!!e.isBgImage}function $n({viewportHeight:e,viewportWidth:t}){const n=a=>a.top-e>0?!1:a.top>0||a.top+a.height>0,u=a=>!(a.right<0||a.left>t);return a=>n(a)&&u(a)}function Yn(e){return Vn(this,arguments,function*({browserWindow:t,currentConfig:n,pinmarkletDebugger:u,pinmarkletLogger:a}){const s=t.document.querySelectorAll("[data-pin-me-only]");if(s.length)return pt({browserWindow:t,currentConfig:n,getImageWitinViewport:()=>!0,imgElement:s[0],idx:0,pinmarkletDebugger:u,pinmarkletLogger:a}),{count:1,status:"pinMeOnly"};n.override.og?u("og overridden"):kn({currentConfig:n,pinmarkletDebugger:u,pinmarkletLogger:a});const i=t.document.getElementsByTagName("IMG"),r=(yield Ln(Un(t.document))).map(l=>({currentSrc:l.currentSrc,width:l.width,height:l.height,getAttribute:()=>null,getBoundingClientRect:()=>null,isBgImage:!0})),o=new Map,c=[...i,...r];Ie(n)&&c.forEach(l=>{var d;const A=(d=l.currentSrc)==null?void 0:d.split("/").pop();A&&!o.has(A)&&o.set(A,l)});const m=c.filter(l=>{var d;const A=(d=l.currentSrc)==null?void 0:d.split("/").pop();return!Ie(n)||!A?!0:o.get(A)===l}),p=$n({viewportHeight:t.innerHeight,viewportWidth:t.innerWidth});return m.forEach((l,d)=>{pt({browserWindow:t,currentConfig:n,getImageWitinViewport:A=>Kn(l)?!0:p(A),idx:d,imgElement:l,pinmarkletDebugger:u,pinmarkletLogger:a})}),{count:i.length,status:"imagesProcessed"}})}function Wn({currentConfig:e,pageDocument:t}){const n=[...t.getElementsByTagName("LINK")].find(u=>{const{rel:a,href:s}=u;return!!(a&&a.toLowerCase()==="canonical"&&s)});n&&(e.data.link.canonical=n.href,e.data.url=n.href)}const Xn=/^https?:\/\/www\.amazon\.com\//,Zn="data-fling-asin";function Qn({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){const{currentUrl:a}=t;return a.match(Xn)?!![...e.document.getElementsByTagName("IMG")].find(i=>{const r=i.getAttribute(Zn);return r&&a.match(r)?(w({currentConfig:t,src:i.currentSrc,modifiers:{url:`https://www.amazon.com/dp/${r}/`,description:Ee({browserWindow:e,currentConfig:t,imageElement:i})},preventImagelessPinCreation:!0,pinmarkletDebugger:n,pinmarkletLogger:u}),!0):!1}):!1}const Jn=/^https?:\/\/www\.amazon\.com((\/|.*)\/dp\/)/;function qn({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){var a;if(!t.currentUrl.match(Jn))return!1;const s=(a=e.document.getElementById("imgTagWrapperId"))==null?void 0:a.getElementsByTagName("IMG")[0];return s&&w({currentConfig:t,src:s.src,modifiers:{url:t.data.link.canonical,description:Ee({browserWindow:e,currentConfig:t,imageElement:s})},preventImagelessPinCreation:!0,pinmarkletDebugger:n,pinmarkletLogger:u}),!!s}var eu=Object.defineProperty,ft=Object.getOwnPropertySymbols,tu=Object.prototype.hasOwnProperty,nu=Object.prototype.propertyIsEnumerable,ht=(e,t,n)=>t in e?eu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uu=(e,t)=>{for(var n in t||(t={}))tu.call(t,n)&&ht(e,n,t[n]);if(ft)for(var n of ft(t))nu.call(t,n)&&ht(e,n,t[n]);return e};const au=/^https?:\/\/www\.google\.com\/search(.*tbm=isch.*)/;function _t({currentConfig:e,imgTag:t,pinmarkletDebugger:n,pinmarkletLogger:u}){var a;const s=((t.parentNode||{}).parentNode||{}).nextSibling;let i=null;s&&s.title===t.alt&&((a=s.href)!=null&&a.match(/^http?s:\/\//))&&(i=s.href),w({src:t.dataset.src||t.src,modifiers:uu({description:t.alt},i?{url:i}:{}),preventImagelessPinCreation:!0,currentConfig:e,pinmarkletDebugger:n,pinmarkletLogger:u}),e.override.runDefaultScraping=!1}function su({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){if(!t.currentUrl.match(au))return!1;const a=e.document.querySelectorAll("[data-pin-me-only]");return a.length===1?(_t({currentConfig:t,imgTag:a[0],pinmarkletDebugger:n,pinmarkletLogger:u}),!0):!![...e.document.getElementsByTagName("IMG")].map(i=>i.alt?(_t({currentConfig:t,imgTag:i,pinmarkletDebugger:n,pinmarkletLogger:u}),!0):!1).find(Boolean)}const iu=/^https?:\/\/m\.youtube\.com\//,ou=/^(https?:|)\/\/(www|m)\.youtube\.com\/watch?/;function ru({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){return t.currentUrl.match(iu)?!![...e.document.getElementsByTagName("A")].map(s=>{var i,r;if((i=s.href)!=null&&i.match(ou)){const o=(r=s.href.split("v=")[1])==null?void 0:r.split("&")[0].split("#")[0];return o?(n(`found a YouTube video: ${s.href}`),w({currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u,preventImagelessPinCreation:!0,src:Le(o),modifiers:{description:e.document.title,multimedia:!0,url:Be(o)}}),!0):!1}return!1}).find(Boolean):!1}const lu=/^https?:\/\/(www|m)\.youtube\.com\/watch?/;function du({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){var a;if(!t.currentUrl.match(lu))return!1;const s=(a=t.currentUrl.split("v=")[1])==null?void 0:a.split("&")[0].split("#")[0];return s?(n(`Found a YouTube page: ${t.currentUrl}`),w({currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u,preventImagelessPinCreation:!0,src:Le(s),modifiers:{description:e.document.title,multimedia:!0,url:Be(s)}}),!0):!1}function cu({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){return!![Qn,qn,du,ru,su].find(s=>s({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}))}function mu({browserWindow:e,currentConfig:t,onResult:n,pageDocument:u,pinmarkletDebugger:a,pinmarkletLogger:s}){a("Initing"),t.data.url=t.currentUrl,cu({browserWindow:e,currentConfig:t,pinmarkletDebugger:a,pinmarkletLogger:s})||(yn({browserWindow:e,currentConfig:t,pinmarkletDebugger:a,pinmarkletLogger:s}),t.override.runDefaultScraping&&Yn({browserWindow:e,currentConfig:t,pinmarkletDebugger:a,pinmarkletLogger:s}),t.override.link||Wn({currentConfig:t,pageDocument:u}));const i=vn({browserWindow:e,currentConfig:t,onResult:n,pinmarkletDebugger:a,pinmarkletLogger:s});e.setTimeout(i,100)}function Eu(e){return e.reduce((t,n)=>{const u=n.k.split(":");let a=t;return u.forEach(s=>{typeof a[s]=="undefined"&&(a[s]={}),a=a[s]}),typeof a["~"]=="undefined"?a["~"]=n.v:Array.isArray(a["~"])?a["~"].push(n.v):typeof a["~"]=="string"&&(a["~"]=[a["~"]],a["~"].push(n.v)),t},{})}function It({obj:e,parentObj:t,parentKey:n}){for(const u in e)typeof e[u]=="object"?typeof e[u][0]=="string"?t[n]=e[u]:It({obj:e[u],parentObj:e,parentKey:u}):Object.keys(e).length===1&&(t[n]=e[u]);return e}function gu(e){const t=e.getElementsByTagName("META"),n=[];let u=!1;return[...t].forEach(a=>{const s=a.getAttribute("content"),i=a.getAttribute("property")||a.getAttribute("name");s&&i&&(i.toLowerCase()==="pinterest"&&s.toLowerCase()==="nopin"?u=a.getAttribute("description")||!0:a.getAttribute("data-pin-nopin")||n.push({k:i,v:s}))}),{metaKVPairs:n,pinterestNoPin:u}}function Au(e){return e.sort((t,n)=>t.k>n.k?1:t.k<n.k?-1:0),It({obj:Eu(e),parentObj:null,parentKey:null})}function pu({currentConfig:e,pinmarkletDebugger:t,pinmarkletLogger:n,metadata:u}){var a,s,i,r,o,c,m;const p={};if(u.pin){const l=u.pin;t("data-pin found"),l.url&&(t("data-pin-url found"),p.pinUrl=l.url,e.override.link=!0),l.description&&(t("data-pin-description found"),p.pinDescription=l.description),l.title&&(t("data-pin-title found"),p.pinTitle=l.title),l.id&&(t("data-pin-id found"),p.pinId=l.id,e.override.allowImagelessPinCreation=!1),l.media&&(t("data-pin-media found"),p.pinMedia=l.media,t("loading data-pin-media"),w({currentConfig:e,pinmarkletDebugger:t,pinmarkletLogger:n,src:l.media,modifiers:p}))}if((a=u.instapp)!=null&&a.owner_user_id&&((r=(i=(s=u.al)==null?void 0:s.ios)==null?void 0:i.url)!=null&&r.match("="))&&(e.insta={owner:u.instapp.owner_user_id,id:(m=(c=(o=u.al)==null?void 0:o.ios)==null?void 0:c.url)==null?void 0:m.split("=")[1]},u.instapp.hashtags&&(e.insta.hashtags=u.instapp.hashtags.toString())),e.data.meta.og){const l=e.data.meta.og;if(typeof l.image!="string"){const d=Array.isArray(l.image)?l.image[0]:l.image;typeof d!="string"&&typeof(d==null?void 0:d.secure_url)=="string"&&(e.data.meta.og.image=d.secure_url)}Array.isArray(l.description)&&(e.data.meta.og.description=l.description[0]),Array.isArray(l.title)&&(e.data.meta.og.title=l.title[0]),Array.isArray(l.url)&&(e.data.meta.og.url=l.url[0]),Array.isArray(l.image)&&(e.data.meta.og.image=l.image[0])}}function fu(e){return[...e.getElementsByTagName("SCRIPT")].map(t=>({type:t.type,innerText:t.innerText}))}function hu({currentConfig:e,pinmarkletDebugger:t,scriptTags:n}){n.forEach(u=>{if(u.type==="application/ld+json"){const{innerText:a}=u;if(a)try{e.data.script.push(JSON.parse(a))}catch(s){t("Could not parse linked data."),t(a)}}})}function _u({currentConfig:e,pageDocument:t,pinmarkletDebugger:n}){const u=fu(t);hu({currentConfig:e,pinmarkletDebugger:n,scriptTags:u})}const Iu=[/password/gi];function Bu(e){const[t,n]=e.split("#")[0].split("?");let u="?",a="";return n&&(a=n.split("&").reduce((s,i)=>{const[r,o]=i.split("=");return r&&o&&!Iu.find(c=>r.match(c))&&(s+=`${u}${r}=${o}`,u="&"),s},"")),t+a}const ge=()=>{};function xu(e){const{navigator:t}=e;return!t.userAgent.match(" MSIE ")}function Su({pageDocument:e}){const t=Bu(e.URL),n=Xe({currentUrl:t}),{metaKVPairs:u,pinterestNoPin:a}=gu(e);return{currentUrl:t,isDomainAllowed:n,pinterestNoPin:a,metaKVPairs:u}}function vu({browserWindow:e,client:t,currentUrl:n,experiments:u,isDisableImagelessSave:a,isDisableOgImageLoad:s,metaKVPairs:i,onResult:r}){const o=sn();o.currentUrl=n,o.client=t,o.experiments=u,a&&(o.override.allowImagelessPinCreation=!1),s&&(o.override.og=!0);const{document:c}=e;_u({currentConfig:o,pageDocument:c,pinmarkletDebugger:ge});const m=Au(i);o.data.meta=m,pu({currentConfig:o,metadata:m,pinmarkletDebugger:ge,pinmarkletLogger:ge}),mu({browserWindow:e,currentConfig:o,onResult:r,pageDocument:c,pinmarkletDebugger:ge,pinmarkletLogger:ge})}const Pu=120,Bt="data-pin-me-only";function ke(e){const t=[];for(const[n,u]of Object.entries(e))t.push(`${n}:${u} !important`);return t.join(";")}function Du(){const e={};return t=>{if(!t.currentSrc)return!1;if(t.currentSrc in e)return e[t.currentSrc];const n=Pu;let u;return t.naturalHeight<n||t.naturalWidth<n||t.height<n||t.width<n?u=!1:u=!0,e[t.currentSrc]=u,u}}const xt=Du();function St(e,t){const n=new MutationObserver((u,a)=>{const s=["style","class"],{attributeName:i,target:r}=u[0];i&&s.includes(i)&&(a.disconnect(),t(r))});return n.observe(e,{attributes:!0}),n}function vt({allowedMutatedAttrs:e,mutatedStyle:t}){return t?ke(Object.fromEntries(e.map(n=>{const u=t.getPropertyValue(n);return u?[n,u]:[]}))):""}const ve=()=>!!(document!=null&&document.body&&document.URL.match(K)),Cu=()=>{const{config:{extensionVersion:e}={}}=C();document.body.setAttribute("data-pinterest-extension-installed",e||"xx")},Tu=()=>(document==null?void 0:document.body)&&document.URL.startsWith(be);function je(){const{hoveredImage:e}=C();e==null||e.setAttribute(Bt,"true")}function ze(){const{hoveredImage:e}=C();e==null||e.removeAttribute(Bt)}function bu(e){return{src:e.currentSrc,description:e.title||document.title,url:document.URL}}function Ou({hoveredImage:e}){const t=new URL(document.URL),n=(e==null?void 0:e.className)==="link-bubble-drive-thumbnail-image"&&t.hostname.endsWith("docs.google.com"),u=t.hostname.endsWith("canva.com");return n||u}function Pt(){const{extensionSettings:e}=C();return(e==null?void 0:e.hideHoverButtons)===!0}function yu({browserWindow:e,experiments:t}){return new Promise((n,u)=>{const a=xu(e);if(!e||!e.document){u(new Error("Invalid browser window or document"));return}if(!a){u(new Error("Invalid browser"));return}const{currentUrl:s,isDomainAllowed:i,pinterestNoPin:r,metaKVPairs:o}=Su({pageDocument:e.document});if(!t.allowPinterestRepinning&&ve()||!i){u(new Error("Domain not allowed"));return}if(r){u(new Error("Pinterest noPin"));return}if(o===null){u(new Error("Failed to scrape metadata"));return}vu({browserWindow:e,client:"extension",currentUrl:s,experiments:t,isDisableImagelessSave:!0,isDisableOgImageLoad:t.allowPinterestRepinning&&ve(),metaKVPairs:o,onResult:c=>{n(c)}})})}var Mu=Object.defineProperty,Nu=Object.defineProperties,Fu=Object.getOwnPropertyDescriptors,Dt=Object.getOwnPropertySymbols,wu=Object.prototype.hasOwnProperty,Ru=Object.prototype.propertyIsEnumerable,Ct=(e,t,n)=>t in e?Mu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uu=(e,t)=>{for(var n in t||(t={}))wu.call(t,n)&&Ct(e,n,t[n]);if(Dt)for(var n of Dt(t))Ru.call(t,n)&&Ct(e,n,t[n]);return e},Lu=(e,t)=>Nu(e,Fu(t)),ku=(e,t,n)=>new Promise((u,a)=>{var s=o=>{try{r(n.next(o))}catch(c){a(c)}},i=o=>{try{r(n.throw(o))}catch(c){a(c)}},r=o=>o.done?u(o.value):Promise.resolve(o.value).then(s,i);r((n=n.apply(e,t)).next())}),X=(e=>(e[e.SAVEPICKER=0]="SAVEPICKER",e[e.SIDEBAR=1]="SIDEBAR",e))(X||{});const ju=ke({width:"100%",height:"100%",position:"fixed",top:"0",bottom:"0",right:"0",left:"0","z-index":9007199254740991,"background-color":"transparent",border:"0px",display:"none","color-scheme":G.SAFARI==="chrome"?"normal":"none",margin:"0",clip:"auto",opacity:"1",padding:"0"}),zu=e=>e.view===1,ue=e=>{var t;const{funnelId:n,view:u}=e,{isAppIframeInjected:a,hoveredImage:s,saveButton:i,appIframe:r}=C();let o=0,c=0;if(u===0&&i){const d=i.getBoundingClientRect();o=d.left,c=d.top}const m=(t=document.querySelector('meta[name="color-scheme"]'))==null?void 0:t.content,p=()=>ku(void 0,null,function*(){switch(u){case 0:{const{lastSavedToBoard:{id:d,name:A}={}}=C();if(!d||!A)break;const B=Lu(Uu({},bu(s)),{x:o,y:c,boardId:d,boardName:A,funnelId:n,documentColorScheme:m});l.style.display="block",b({isAppIframeDisplayed:!0}),l.contentWindow&&setTimeout(()=>{tt({element:l.contentWindow,action:Z.MOUNT_SAVEPICKER_APP,payload:B})},100)}break;case 1:if(l.contentWindow&&zu(e)){const{config:d}=C(),{entryType:A}=e,B=({errorType:R,payload:j})=>{l.style.display="block",b({isAppIframeDisplayed:!0});const ae={buildTarget:"chrome",entryType:A,errorType:R,funnelId:n,isAuthenticated:!!(d!=null&&d.isAuthenticated),thumb:[],url:document.URL,documentColorScheme:m};tt({element:l.contentWindow,action:Z.MOUNT_SIDEBAR_APP,payload:j||ae})};L({eventType:F.SAVE_BROWSER_PIN_IMAGES_REQUESTED,auxData:{funnel_uuid:n}});const I=window,P=G.SAFARI!=="chrome",k=G.SAFARI!=="chrome";try{const R=yield yu({browserWindow:I,experiments:{allowPinterestRepinning:k,allowWhatsApp:P}}),{thumb:j=[],url:ae=""}=R,De={buildTarget:"chrome",entryType:A,funnelId:n,isAuthenticated:!!(d!=null&&d.isAuthenticated),thumb:j,url:ae,documentColorScheme:m},Ae=j.length;L({eventType:Ae>0?F.SAVE_BROWSER_PIN_IMAGES_FOUND:F.SAVE_BROWSER_PIN_IMAGES_NOT_FOUND,auxData:{funnel_uuid:n,image_count:Ae,url:ae}}),B({payload:De})}catch(R){if(R instanceof Error)switch(R.message){case"Domain not allowed":B({errorType:J.BANNED_DOMAIN});break;case"Pinterest noPin":B({errorType:J.NO_PIN_DOMAIN});break;default:}}}break;default:break}});let l;if(a&&r)l=r,p();else{l=document.createElement("iframe");const d=Y.runtime.getURL("/index.html");l.src=d,l.onload=()=>{p()};const A=B=>{const I=vt({allowedMutatedAttrs:["display"],mutatedStyle:B==null?void 0:B.style});l.setAttribute("style",`${ju};${I}`),l.removeAttribute("class");const P=St(l,A);b({appIframeMutationObserver:P})};A(),b({appIframe:l,isAppIframeInjected:!0}),document.body.appendChild(l)}},Gu=/^https?:\/\/www\.instagram\.com\//,Tt=e=>e.match(Gu)!==null,Hu=e=>{if(bt(e))return e;const n=Array.from(e.getElementsByTagName("img")).filter(xt);return n.length===1?n[0]:null},Vu=e=>{const t=[e,e.previousSibling];for(const n of t)if(n instanceof HTMLElement){const u=Hu(n);if(u)return u}return null},Ku=({element:e,url:t})=>Tt(t)?Vu(e):null,$u=ke({"border-radius":"10px","text-indent":"12px",width:"auto",height:"20px",padding:"0px 8px","text-align":"center","vertical-align":"middle",font:'bold 11px / 20px "Helvetica Neue", Helvetica, sans-serif',color:"rgb(255, 255, 255)",background:'url("data:image/svg+xml;base64,PHN2ZyBpZD0ic291cmNlIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iNiIgY3k9IjYiIHI9IjYiIGZpbGw9IiNFNjAwMjMiPjwvY2lyY2xlPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTAgNkMwIDguNTYxNSAxLjYwNTUgMTAuNzQ4NSAzLjg2NSAxMS42MDlDMy44MSAxMS4xNDA1IDMuNzUxNSAxMC4zNjggMy44Nzc1IDkuODI2QzMuOTg2IDkuMzYgNC41NzggNi44NTcgNC41NzggNi44NTdDNC41NzggNi44NTcgNC4zOTk1IDYuNDk5NSA0LjM5OTUgNS45N0M0LjM5OTUgNS4xNCA0Ljg4MDUgNC41MiA1LjQ4IDQuNTJDNS45OSA0LjUyIDYuMjM2IDQuOTAyNSA2LjIzNiA1LjM2MUM2LjIzNiA1Ljg3MzUgNS45MDk1IDYuNjM5NSA1Ljc0MSA3LjM1QzUuNjAwNSA3Ljk0NDUgNi4wMzk1IDguNDI5NSA2LjYyNTUgOC40Mjk1QzcuNjg3IDguNDI5NSA4LjUwMzUgNy4zMSA4LjUwMzUgNS42OTRDOC41MDM1IDQuMjYzNSA3LjQ3NTUgMy4yNjQgNi4wMDggMy4yNjRDNC4zMDkgMy4yNjQgMy4zMTE1IDQuNTM4NSAzLjMxMTUgNS44NTZDMy4zMTE1IDYuMzY5NSAzLjUwOSA2LjkxOTUgMy43NTYgNy4yMTlDMy44MDQ1IDcuMjc4NSAzLjgxMiA3LjMzIDMuNzk3NSA3LjM5MDVDMy43NTIgNy41Nzk1IDMuNjUxIDcuOTg1IDMuNjMxNSA4LjA2OEMzLjYwNSA4LjE3NyAzLjU0NSA4LjIwMDUgMy40MzE1IDguMTQ3NUMyLjY4NTUgNy44MDA1IDIuMjE5NSA2LjcxIDIuMjE5NSA1LjgzNEMyLjIxOTUgMy45NDk1IDMuNTg4IDIuMjE5NSA2LjE2NTUgMi4yMTk1QzguMjM3NSAyLjIxOTUgOS44NDggMy42OTYgOS44NDggNS42NjlDOS44NDggNy43Mjc1IDguNTUwNSA5LjM4NDUgNi43NDg1IDkuMzg0NUM2LjE0MyA5LjM4NDUgNS41NzQ1IDkuMDY5NSA1LjM3OTUgOC42OThDNS4zNzk1IDguNjk4IDUuMDggOS44MzkgNS4wMDc1IDEwLjExOEM0Ljg2NjUgMTAuNjYgNC40NzU1IDExLjM0NiA0LjIzMyAxMS43MzU1QzQuNzkyIDExLjkwNzUgNS4zODUgMTIgNiAxMkM5LjMxMzUgMTIgMTIgOS4zMTM1IDEyIDZDMTIgMi42ODY1IDkuMzEzNSAwIDYgMEMyLjY4NjUgMCAwIDIuNjg2NSAwIDZaIiBmaWxsPSJ3aGl0ZSI+PC9wYXRoPgo8L3N2Zz4=") 4px 50% / 12px 12px no-repeat rgb(230, 0, 35)',position:"absolute",opacity:1,"z-index":9007199254740990,display:"none",cursor:"pointer",border:"none","-webkit-font-smoothing":"antialiased",top:"0",left:"0"});function Yu(){var e;const{isSaveButtonInjected:t}=C();if(t)return;const n=document.createElement("span");n.innerText=(e=Y.i18n)==null?void 0:e.getMessage("saveButtonText");const u=o=>{const c=vt({allowedMutatedAttrs:["display","top","left"],mutatedStyle:o==null?void 0:o.style});n.setAttribute("style",`${$u};${c}`),n.removeAttribute("class");const m=St(n,u);b({saveButtonMutationObserver:m})};u();const a=o=>((o==null?void 0:o.naturalWidth)||0)+$>=E&&((o==null?void 0:o.width)||0)+$>=E,s=()=>{const{saveButtonHideTimeout:o,config:c,hoveredImage:m,lastSavedToBoard:p}=C();if(window.clearTimeout(o),!(c!=null&&c.isAuthenticated)||!(p!=null&&p.id)||!a(m)){const l=ee();je(),ue({entryType:D.FROM_SAVE_PICKER,funnelId:l,view:X.SIDEBAR}),L({eventType:F.CLICK,element:de.SAVE_BUTTON,auxData:{funnel_uuid:l,url:document.URL}})}},i=()=>{const{saveButtonHideTimeout:o,config:c,lastSavedToBoard:m,lastScrollTime:p}=C();if(window.clearTimeout(o),c!=null&&c.isAuthenticated&&(m!=null&&m.id)){const l=Date.now()-10;if(p<l){const{hoveredImage:d,isAppIframeInjected:A}=C();if(!A&&a(d)){const B=ee();ue({view:X.SAVEPICKER,funnelId:B}),b({isAppIframeInjected:!0}),je(),L({eventType:F.VIEW,viewType:Ze.HOVER_BOARD_OPENER,auxData:{funnel_uuid:B,url:document.URL}}),L({eventType:F.OFFSITE_SAVE_ENTER,auxData:{domain:location.hostname,entry_type:oe[D.FROM_SAVE_PICKER],funnel_uuid:B,url:document.URL}})}}}},r=()=>{const{isAppIframeDisplayed:o,appIframe:c}=C();if(!o&&c&&Object.keys(c).length!==0){try{document.body.removeChild(c)}catch(m){}it()}};n==null||n.addEventListener("click",s),n==null||n.addEventListener("mouseover",i),n==null||n.addEventListener("mouseout",r),b({saveButton:n,isSaveButtonInjected:!0}),document.body.appendChild(n)}const Wu=1*60*1e3;function Pe(){const{appIframe:e}=C();try{document.body.removeChild(e)}catch(t){}it(),ze()}const Xu=e=>e.action===N.SHOW_SIDEBAR_APP,Zu=e=>{const{type:t,action:n}=e,{isAppIframeDisplayed:u}=C();if(t===T.LIFECYCLE_EVENT)switch(n){case N.TOGGLE_SIDEBAR_APP:if(u)Pe();else{ze();const a=ee();ue({entryType:D.FROM_PRIMARY_ACTION_BUTTON,funnelId:a,view:X.SIDEBAR}),L({eventType:F.CLICK,element:de.PRIMARY_ACTION_BUTTON,auxData:{domain:Yt(document.URL),funnel_uuid:a,url:document.URL}})}break;case N.SHOW_SIDEBAR_APP:if(Xu(e)){const{payload:a}=e,{funnelId:s}=a;ue({entryType:D.FROM_SAVE_PICKER,funnelId:s,view:X.SIDEBAR})}break;case N.HANDLE_CONTEXT_MENU_SAVE_ACTION:{je();const a=ee();ue({entryType:D.FROM_CONTEXT_MENU,funnelId:a,view:X.SIDEBAR}),L({eventType:F.CLICK,element:de.PIN_SAVE_BUTTON,auxData:{funnel_uuid:a,url:document.URL}})}break;case N.UNLOAD_SIDEBAR_APP:Pe();break;default:break}},bt=e=>e.tagName==="IMG"&&xt(e),Qu=({element:e})=>bt(e)?e:null,Ju=({isImproveIgHover:e})=>t=>{const n=t.target,{saveButton:u,isSaveButtonInjected:a,saveButtonHideTimeout:s}=C(),i=[Qu];e&&i.unshift(Ku);const r=i.map(o=>o({element:n,url:document.URL})).find(o=>o!==null)||null;if(r){ze(),b({hoveredImage:r});const o=r.getAttribute("data-pin-nopin")||r.getAttribute("nopin");if(Pt()||Ou({hoveredImage:r})||o)return;a||Yu();const{top:c,left:m}=r.getBoundingClientRect(),p=Math.round(c+window.scrollY)+$,l=Math.round(m+window.scrollX)+$;b({isSaveButtonDisplayed:!0});const{saveButton:d}=C();d.style.display="block",d.style.top=`${p}px`,d.style.left=`${l}px`,window.clearTimeout(s)}else r===u&&window.clearTimeout(s)},Ot=()=>{const{isSaveButtonDisplayed:t,saveButtonHideTimeout:n,saveButton:u}=C();t&&(window.clearTimeout(n),b({saveButtonHideTimeout:window.setTimeout(()=>{u.style.display="none",b({isSaveButtonDisplayed:!1})},100)}))},yt=()=>{b({lastScrollTime:Date.now()})},qu=()=>{setInterval(()=>{qe({type:T.LIFECYCLE_EVENT,action:se.KEEP_ALIVE_PING,payload:{now:Date.now()}})},Wu)},ea=e=>{const{type:t,action:n}=e;if(t===T.LIFECYCLE_EVENT){const{isAppIframeDisplayed:u}=C();switch(n){case N.TOGGLE_SIDEBAR_APP:if(u)Pe();else{const a=ee();ue({entryType:D.FROM_PRIMARY_ACTION_BUTTON,funnelId:a,view:X.SIDEBAR}),L({eventType:F.CLICK,element:de.PRIMARY_ACTION_BUTTON,auxData:{funnel_uuid:a,url:document.URL}})}break;case N.HANDLE_CONTEXT_MENU_SAVE_ACTION:{const a=ee();ue({entryType:D.FROM_CONTEXT_MENU,funnelId:a,view:X.SIDEBAR}),L({eventType:F.CLICK,element:de.PIN_SAVE_BUTTON,auxData:{funnel_uuid:a,url:document.URL}})}break;case N.UNLOAD_SIDEBAR_APP:Pe();break;default:break}}};var ta=(e,t,n)=>new Promise((u,a)=>{var s=o=>{try{r(n.next(o))}catch(c){a(c)}},i=o=>{try{r(n.throw(o))}catch(c){a(c)}},r=o=>o.done?u(o.value):Promise.resolve(o.value).then(s,i);r((n=n.apply(e,t)).next())});(()=>ta(void 0,null,function*(){var e,t;if(yield en(),Tu())return $t(),!1;if(ve()||!Xe({currentUrl:document.URL})){const u=ve()?"Pinterest":"banned";return Cu(),Y.runtime.onMessage.addListener(ea),!1}Y.runtime.onMessage.addListener(Zu);const n=!!Tt(document.URL);(e=document.body)==null||e.addEventListener("mouseover",Ju({isImproveIgHover:n})),Pt()||((t=document.body)==null||t.addEventListener("mouseout",Ot),window==null||window.addEventListener("blur",Ot),window==null||window.addEventListener("scroll",yt,{passive:!1}),document==null||document.addEventListener("wheel",yt,{passive:!1})),qu()}))()})()})();})();
