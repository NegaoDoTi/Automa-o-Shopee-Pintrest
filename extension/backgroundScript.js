(()=>{(()=>{var ms={531:function(j,U){var C,K,H;(function(ee,d){if(!0)K=[j],C=d,H=typeof C=="function"?C.apply(U,K):C,H!==void 0&&(j.exports=H);else var X})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(ee){var d,X;if(!((X=(d=globalThis.chrome)==null?void 0:d.runtime)!=null&&X.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser=="undefined"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const se="The message port closed before a response was received.",de=M=>{const re={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(re).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class fe extends WeakMap{constructor(g,f=void 0){super(f),this.createItem=g}get(g){return this.has(g)||this.set(g,this.createItem(g)),super.get(g)}}const De=i=>i&&typeof i=="object"&&typeof i.then=="function",ce=(i,g)=>(...f)=>{M.runtime.lastError?i.reject(new Error(M.runtime.lastError.message)):g.singleCallbackArg||f.length<=1&&g.singleCallbackArg!==!1?i.resolve(f[0]):i.resolve(f)},te=i=>i==1?"argument":"arguments",Oe=(i,g)=>function(O,...v){if(v.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${te(g.minArgs)} for ${i}(), got ${v.length}`);if(v.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${te(g.maxArgs)} for ${i}(), got ${v.length}`);return new Promise((b,D)=>{if(g.fallbackToNoCallback)try{O[i](...v,ce({resolve:b,reject:D},g))}catch(A){console.warn(`${i} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,A),O[i](...v),g.fallbackToNoCallback=!1,g.noCallback=!0,b()}else g.noCallback?(O[i](...v),b()):O[i](...v,ce({resolve:b,reject:D},g))})},pe=(i,g,f)=>new Proxy(g,{apply(O,v,b){return f.call(v,i,...b)}});let Z=Function.call.bind(Object.prototype.hasOwnProperty);const ne=(i,g={},f={})=>{let O=Object.create(null),v={has(D,A){return A in i||A in O},get(D,A,w){if(A in O)return O[A];if(!(A in i))return;let P=i[A];if(typeof P=="function")if(typeof g[A]=="function")P=pe(i,i[A],g[A]);else if(Z(f,A)){let $=Oe(A,f[A]);P=pe(i,i[A],$)}else P=P.bind(i);else if(typeof P=="object"&&P!==null&&(Z(g,A)||Z(f,A)))P=ne(P,g[A],f[A]);else if(Z(f,"*"))P=ne(P,g[A],f["*"]);else return Object.defineProperty(O,A,{configurable:!0,enumerable:!0,get(){return i[A]},set($){i[A]=$}}),P;return O[A]=P,P},set(D,A,w,P){return A in O?O[A]=w:i[A]=w,!0},defineProperty(D,A,w){return Reflect.defineProperty(O,A,w)},deleteProperty(D,A){return Reflect.deleteProperty(O,A)}},b=Object.create(i);return new Proxy(b,v)},oe=i=>({addListener(g,f,...O){g.addListener(i.get(f),...O)},hasListener(g,f){return g.hasListener(i.get(f))},removeListener(g,f){g.removeListener(i.get(f))}}),Se=new fe(i=>typeof i!="function"?i:function(f){const O=ne(f,{},{getContent:{minArgs:0,maxArgs:0}});i(O)}),ge=new fe(i=>typeof i!="function"?i:function(f,O,v){let b=!1,D,A=new Promise(I=>{D=function(L){b=!0,I(L)}}),w;try{w=i(f,O,D)}catch(I){w=Promise.reject(I)}const P=w!==!0&&De(w);if(w!==!0&&!P&&!b)return!1;const $=I=>{I.then(L=>{v(L)},L=>{let ae;L&&(L instanceof Error||typeof L.message=="string")?ae=L.message:ae="An unexpected error occurred",v({__mozWebExtensionPolyfillReject__:!0,message:ae})}).catch(L=>{console.error("Failed to send onMessage rejected reply",L)})};return $(P?w:A),!0}),Be=({reject:i,resolve:g},f)=>{M.runtime.lastError?M.runtime.lastError.message===se?g():i(new Error(M.runtime.lastError.message)):f&&f.__mozWebExtensionPolyfillReject__?i(new Error(f.message)):g(f)},me=(i,g,f,...O)=>{if(O.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${te(g.minArgs)} for ${i}(), got ${O.length}`);if(O.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${te(g.maxArgs)} for ${i}(), got ${O.length}`);return new Promise((v,b)=>{const D=Be.bind(null,{resolve:v,reject:b});O.push(D),f.sendMessage(...O)})},ye={devtools:{network:{onRequestFinished:oe(Se)}},runtime:{onMessage:oe(ge),onMessageExternal:oe(ge),sendMessage:me.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:me.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},Ee={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return re.privacy={network:{"*":Ee},services:{"*":Ee},websites:{"*":Ee}},ne(M,ye,re)};ee.exports=de(chrome)}else ee.exports=globalThis.browser})}},ke={};function Ue(j){var U=ke[j];if(U!==void 0)return U.exports;var C=ke[j]={exports:{}};return ms[j].call(C.exports,C,C.exports,Ue),C.exports}var hr={};(()=>{"use strict";var j=(e=>(e.PRODUCTION="production",e.DEVELOPMENT="development",e))(j||{}),U=(e=>(e.SAFARI="safari",e.CHROME="chrome",e.CHROME_GROWTH="chrome_growth",e.EDGE="edge",e))(U||{}),C=(e=>(e[e.API_REQUEST=0]="API_REQUEST",e[e.LIFECYCLE_EVENT=1]="LIFECYCLE_EVENT",e))(C||{}),K=(e=>(e[e.SHOW_SIDEBAR_APP=0]="SHOW_SIDEBAR_APP",e[e.UNLOAD_SIDEBAR_APP=1]="UNLOAD_SIDEBAR_APP",e[e.SETUP_OATH_FLOW=2]="SETUP_OATH_FLOW",e[e.CHECK_OAUTH_STATE=3]="CHECK_OAUTH_STATE",e[e.KEEP_ALIVE_PING=4]="KEEP_ALIVE_PING",e))(K||{}),H=(e=>(e[e.TOGGLE_SIDEBAR_APP=0]="TOGGLE_SIDEBAR_APP",e[e.SHOW_SIDEBAR_APP=1]="SHOW_SIDEBAR_APP",e[e.UNLOAD_SIDEBAR_APP=2]="UNLOAD_SIDEBAR_APP",e[e.HANDLE_CONTEXT_MENU_SAVE_ACTION=3]="HANDLE_CONTEXT_MENU_SAVE_ACTION",e[e.KEEP_ALIVE_PONG=4]="KEEP_ALIVE_PONG",e))(H||{}),ee=(e=>(e[e.MOUNT_SAVEPICKER_APP=0]="MOUNT_SAVEPICKER_APP",e[e.MOUNT_SIDEBAR_APP=1]="MOUNT_SIDEBAR_APP",e))(ee||{}),d=(e=>(e[e.FETCH_CONFIG=0]="FETCH_CONFIG",e[e.FETCH_USER=1]="FETCH_USER",e[e.FETCH_BOARDS=2]="FETCH_BOARDS",e[e.FETCH_BOARD_SECTIONS=3]="FETCH_BOARD_SECTIONS",e[e.FETCH_EXPERIMENT=4]="FETCH_EXPERIMENT",e[e.CREATE_BOARD=5]="CREATE_BOARD",e[e.CREATE_BOARD_SECTION=6]="CREATE_BOARD_SECTION",e[e.CREATE_OR_REPIN_PIN=7]="CREATE_OR_REPIN_PIN",e[e.CREATE_LOGS=8]="CREATE_LOGS",e[e.LOG_EVENT=9]="LOG_EVENT",e[e.FETCH_EXTENSION_SETTINGS=10]="FETCH_EXTENSION_SETTINGS",e[e.UPDATE_EXTENSION_SETTINGS=11]="UPDATE_EXTENSION_SETTINGS",e[e.REPORT_BUG=12]="REPORT_BUG",e[e.FETCH_EXPERIENCES=13]="FETCH_EXPERIENCES",e[e.UPDATE_EXPERIENCES=14]="UPDATE_EXPERIENCES",e[e.REVOKE_OAUTH_TOKEN=15]="REVOKE_OAUTH_TOKEN",e[e.CLEAR_BACKGROUND_STATE=16]="CLEAR_BACKGROUND_STATE",e))(d||{}),X=(e=>(e.SUCCESS="success",e.WAITING="waiting",e))(X||{}),se=(e=>(e.PUBLIC="public",e.SECRET="secret",e))(se||{}),de=(e=>(e[e.SignIn=0]="SignIn",e[e.ImagePicker=1]="ImagePicker",e[e.BoardPicker=2]="BoardPicker",e[e.BoardCreate=3]="BoardCreate",e[e.BoardSectionPicker=4]="BoardSectionPicker",e[e.BoardSectionCreate=5]="BoardSectionCreate",e[e.PinCreate=6]="PinCreate",e[e.ReportBug=7]="ReportBug",e[e.Settings=8]="Settings",e[e.ErrorBannedDomain=9]="ErrorBannedDomain",e[e.ErrorNoPinDomain=10]="ErrorNoPinDomain",e))(de||{}),M=(e=>(e[e.FROM_CONTEXT_MENU=0]="FROM_CONTEXT_MENU",e[e.FROM_PRIMARY_ACTION_BUTTON=1]="FROM_PRIMARY_ACTION_BUTTON",e[e.FROM_SAVE_PICKER=2]="FROM_SAVE_PICKER",e))(M||{}),re=(e=>(e[e.BANNED_DOMAIN=0]="BANNED_DOMAIN",e[e.NO_PIN_DOMAIN=1]="NO_PIN_DOMAIN",e))(re||{});const fe="pinterest-save-extension",De="https://help.pinterest.com/en/save-extension/oauth-access-token",ce=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK","UK"],te={[M.FROM_CONTEXT_MENU]:"context_menu",[M.FROM_PRIMARY_ACTION_BUTTON]:"pinterest_button",[M.FROM_SAVE_PICKER]:"hover"},Oe=2048,pe=1447723,Z=/^https?:\/\/([a-z]*\.|)pinterest\.(at|(c(a|h|l|o(\.(kr|uk)|m(|\.(au|mx)))))|d(e|k)|es|fr|i(e|t)|jp|nz|p(h|t)|se|ru)\//,ne="https://pinterest.com",oe=/pin\/(\d+|[0-9a-zA-Z\-_]{40,})(\/\?.*)?/,Se=new RegExp(Z.source+oe.source),ge=e=>e&&e.match(Se),Be={allowPinterestRepinning:!1,allowWhatsApp:!1},me=".pinterest.com",ye={cctld:"/secure/autologin/"},Ee=10,i=250,g=null,f=/^https?:\/\//,O=["png","jpg","jpeg","gif","webp"],v=new RegExp(`^data:image\\/(${O.join("|")});base64`),b=new RegExp(`^image\\/(${O.join("|")})$`),D=/^blob:/,A={PIN_CREATE:1,VIEW:13,BOARD_CREATE:20,USER_FOLLOW:45,CLICK:101,SAVE_BROWSER_PIN_IMAGES_REQUESTED:14563,SAVE_BROWSER_PIN_IMAGES_FOUND:2900,SAVE_BROWSER_PIN_IMAGES_NOT_FOUND:2901,PIN_CREATE_FAILURE:7564,PIN_CREATE_ATTEMPTED:14564,USER_ACTIVE:7137,INSTALL:8219,BROWSER_SESSION:8221,UPDATE:8222,BROWSER_EXTENSION_BOOKMARKS_FOUND:9001,BROWSER_EXTENSION_BOOKMARKS_CREATE_SUCCESS:9002,OFFSITE_SAVE_ENTER:14703,OFFSITE_SAVE_BOARDS_LOADED:15401,OFFSITE_SAVE_BOARDS_NOT_LOADED:15402,USER_LOGIN_SUCCESS:38,USER_LOGIN_FAILED:39,USER_LOGIN_ATTEMPT:50,USER_LOGOUT_SUCCESS:8112},w={BOARD_PICKER:21,VISUAL_SEARCH:43,BROWSER_EXTENSION_DAU:192,IMAGE_PICKER:268,CREATE_BOARD:269,PIN_CREATE_SUCCESS:270,FOLLOW_FROM_SAVE:271,FOLLOW_FROM_SAVE_SUCCESS:272,BOARD_SECTION_CREATE:274,BOARD_SECTION_PICKER:275,BROWSER_EXTENSION_OPTIONS:276,HOVER_BOARD_OPENER:277,HOVER_BOARD_PICKER:278,VISUAL_SEARCH_RESULTS:279,BROWSER_EXTENSION_REPORT_BUG:280,BOARD_PICKER_ALL_BOARDS:3989},P={PIN_BOARD:5,BOARD_COVER:36,BOARD_PICKER:67,CREATE_BUTTON:44,PIN_SAVE_BUTTON:48,NEXT_BUTTON:96,SECTION_COVER:11854,SAVE_BUTTON:12018,VISIT_BUTTON:12796,PRIMARY_ACTION_BUTTON:13004,SHARE_EXTENSION_IMAGE:701,PROFILE_AVATAR:1242},$={BROWSER_EXTENSION:8},I={OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:7},L={VIEWING_IPS:0,FEATURE_ISSUE:1,PUBLISH_ISSUE:2,USER_COMPREHENSION:3,OTHER:4,BROWSER_EXTENSION_ISSUE:5};function ae(){return[1e7,1e3,4e3,8e3,1e11].join("").replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}var T=Ue(531),Es=Object.defineProperty,As=Object.defineProperties,us=Object.getOwnPropertyDescriptors,Fe=Object.getOwnPropertySymbols,_s=Object.prototype.hasOwnProperty,ds=Object.prototype.propertyIsEnumerable,Me=(e,s,r)=>s in e?Es(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,Y=(e,s)=>{for(var r in s||(s={}))_s.call(s,r)&&Me(e,r,s[r]);if(Fe)for(var r of Fe(s))ds.call(s,r)&&Me(e,r,s[r]);return e},fs=(e,s)=>As(e,us(s)),Le=(e,s,r)=>new Promise((t,l)=>{var o=n=>{try{a(r.next(n))}catch(E){l(E)}},u=n=>{try{a(r.throw(n))}catch(E){l(E)}},a=n=>n.done?t(n.value):Promise.resolve(n.value).then(o,u);a((r=r.apply(e,s)).next())});const Os={[I.OTHER]:"xx",[I.CHROME]:"cr",[I.SAFARI]:"sf",[I.IE]:"ie",[I.FIREFOX]:"ff",[I.OPERA]:"op",[I.EDGE]:"ms"};function ps(){const e=navigator.userAgent.toLowerCase();return e.indexOf("edge")>-1||e.indexOf("edg")>-1?I.EDGE:e.indexOf("trident")>-1?I.IE:e.indexOf("firefox")>-1?I.FIREFOX:e.indexOf("opr")>-1?I.OPERA:e.indexOf("chrome")>-1?I.CHROME:e.indexOf("safari")>-1?I.SAFARI:I.OTHER}const Ve=["config","experiences","extensionSettings","requests","userToken","user","boards","boardSections"],He=ps(),Ss={config:{isAuthenticated:!1,unauthId:ae(),extensionVersion:`${Os[He]}${T.runtime.getManifest().version}`,browserType:He,buildTarget:"chrome"},experiences:{settingsEduLastSeen:0},extensionSettings:{},requests:{},userToken:{},user:{},boards:[],boardSections:{}};function hs(e){let s=e;const r=()=>s,t=o=>Le(this,null,function*(){return yield T.storage.local.set(Y({},o)),s=Y(Y({},s),o),s});return{getBackgroundScriptState:r,setBackgroundScriptState:t,clearBackgroundScriptState:()=>Le(this,null,function*(){const o=Y({},s.experiences),u=Y({},s.extensionSettings),a=fs(Y({},e),{experiences:o,extensionSettings:u});yield T.storage.local.clear(),yield t(a)})}}const{getBackgroundScriptState:p,setBackgroundScriptState:x,clearBackgroundScriptState:Ge}=hs(Ss);function Ts(e){const s={};T.storage.local.get(Ve).then(r=>{for(const t of Ve)r[t]&&(s[t]=r[t]);T.storage.local.set(Y({},s)).then(()=>{x(s),e()})})}var Ps=Object.defineProperty,Is=Object.defineProperties,Cs=Object.getOwnPropertyDescriptors,je=Object.getOwnPropertySymbols,vs=Object.prototype.hasOwnProperty,xs=Object.prototype.propertyIsEnumerable,Ke=(e,s,r)=>s in e?Ps(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,Xe=(e,s)=>{for(var r in s||(s={}))vs.call(s,r)&&Ke(e,r,s[r]);if(je)for(var r of je(s))xs.call(s,r)&&Ke(e,r,s[r]);return e},We=(e,s)=>Is(e,Cs(s)),q=(e,s,r)=>new Promise((t,l)=>{var o=n=>{try{a(r.next(n))}catch(E){l(E)}},u=n=>{try{a(r.throw(n))}catch(E){l(E)}},a=n=>n.done?t(n.value):Promise.resolve(n.value).then(o,u);a((r=r.apply(e,s)).next())});function $e(){return q(this,null,function*(){const{config:e}=p();yield x({config:We(Xe({},e),{isAuthenticated:!0})})})}function Rs(e){return q(this,null,function*(){const s=new TextEncoder().encode(e.replace(/"/g,"")),r=yield crypto.subtle.digest("SHA-512",s);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")})}function ze(){return q(this,null,function*(){const e=yield T.cookies.getAll({domain:me}),s=e.find(o=>o.name==="_auth"),r=s==null?void 0:s.value,t=e.find(o=>o.name==="_pinterest_sess"),l=t==null?void 0:t.value;return{authCookieValue:r,sessionCookieValue:l}})}function he(){return q(this,null,function*(){const{authCookieValue:e,sessionCookieValue:s}=yield ze();if(!!(e==="1"&&s)){const t=yield Rs(s);yield x({userToken:{token:t,sessionCookieValue:s}}),yield $e()}})}function Ye(){return q(this,null,function*(){const{userToken:{sessionCookieValue:e}={}}=p(),{authCookieValue:s,sessionCookieValue:r}=yield ze();return s==="1"&&r===e})}function Ns(){return q(this,null,function*(){yield Ge(),yield he(),yield ie({action:d.FETCH_USER})})}function bs(){const{config:e,userToken:{token:s}={}}=p();s&&x({userToken:{token:s,sessionCookieValue:""},config:We(Xe({},e),{isAuthenticated:!0})})}var ws=Object.defineProperty,ks=Object.defineProperties,Us=Object.getOwnPropertyDescriptors,Je=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,Bs=Object.prototype.propertyIsEnumerable,Ze=(e,s,r)=>s in e?ws(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,Ae=(e,s)=>{for(var r in s||(s={}))Ds.call(s,r)&&Ze(e,r,s[r]);if(Je)for(var r of Je(s))Bs.call(s,r)&&Ze(e,r,s[r]);return e},Te=(e,s)=>ks(e,Us(s)),ys=(e,s,r)=>new Promise((t,l)=>{var o=n=>{try{a(r.next(n))}catch(E){l(E)}},u=n=>{try{a(r.throw(n))}catch(E){l(E)}},a=n=>n.done?t(n.value):Promise.resolve(n.value).then(o,u);a((r=r.apply(e,s)).next())});const Fs=e=>{let s="";return e&&(s=Object.entries(e).map(([r,t])=>`${r}=${t}`).join("&")),s},z=function(){const e=({method:r,token:t,formData:l,buildTarget:o})=>{const{language:u}=navigator,a={"Accept-Language":u,charset:"UTF-8"};return o===U.SAFARI?t&&(a.Authorization=`Bearer ${t}`):(a.Accept="application/json",a["X-Pinterest-App-Type-Detailed"]="8",a["X-Client-ID"]="1447278",t&&(a["X-Request-Forgery-Token"]=t)),Ae({method:r,headers:a,credentials:o===U.SAFARI?"omit":"include"},l&&{body:l})};return{makeRequest:r=>ys(this,[r],function*({subDomain:t="api",path:l,params:o,method:u,formData:a}){const{userToken:n,config:E}=p(),y=Fs(o),{buildTarget:R}=E,{token:B}=n,W=e({method:u,token:B,formData:a,buildTarget:R}),c=`https://${t}.pinterest.com/v3${l}?${y}`;try{const m=yield fetch(c,W),_=yield m.json();return m.status===200?{bookmark:_.bookmark,data:_.data}:(B&&(m.status===401||m.status===403)&&(U.SAFARI==="chrome"?yield x({config:Te(Ae({},E),{isAuthenticated:!1}),userToken:{token:"",sessionCookieValue:""}}):(yield Ye())&&(yield x({config:Te(Ae({},E),{isAuthenticated:!1}),userToken:Te(Ae({},n),{isInvalidToken:!0})}))),{error:_.message})}catch(m){return{error:m instanceof Error?m.message:String(m)}}})}}();function Ms(e){const{user:{gatekeeper_experiments:s={}}={}}=p(),r=s[e]||{},t=r!=null&&r.group?r.group:"";return qe(t)}function qe(e){const s=e.startsWith("enabled")||e.startsWith("employees");return{group:e,anyEnabled:s}}var Ls=Object.defineProperty,Vs=Object.defineProperties,Hs=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,Gs=Object.prototype.hasOwnProperty,js=Object.prototype.propertyIsEnumerable,es=(e,s,r)=>s in e?Ls(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,N=(e,s)=>{for(var r in s||(s={}))Gs.call(s,r)&&es(e,r,s[r]);if(Qe)for(var r of Qe(s))js.call(s,r)&&es(e,r,s[r]);return e},V=(e,s)=>Vs(e,Hs(s)),ss=(e,s,r)=>new Promise((t,l)=>{var o=n=>{try{a(r.next(n))}catch(E){l(E)}},u=n=>{try{a(r.throw(n))}catch(E){l(E)}},a=n=>n.done?t(n.value):Promise.resolve(n.value).then(o,u);a((r=r.apply(e,s)).next())});const Ks=500,Xs=50,Ws=50;var $s=(e=>(e[e.USER=6e5]="USER",e[e.BOARDS=6e5]="BOARDS",e[e.BOARD_SECTIONS=6e5]="BOARD_SECTIONS",e[e.GATEKEEPER=6e5]="GATEKEEPER",e))($s||{});const Pe=[d.FETCH_CONFIG,d.FETCH_EXTENSION_SETTINGS,d.UPDATE_EXTENSION_SETTINGS,d.CREATE_LOGS],Ie=e=>ss(void 0,[e],function*({path:s,params:r,prevResponse:t,method:l}){const o=yield z.makeRequest({path:s,params:r,method:l});if(o.error)return o;const u=V(N({},t),{data:[...t.data||[],...o.data||[]]});return o.bookmark?Ie({path:s,params:V(N({},r),{bookmark:o.bookmark}),prevResponse:u,method:l}):u}),ie=e=>ss(void 0,[e],function*({action:s,actionOptions:r={},payload:t={}}){var l,o,u,a;const{disableCache:n=!1}=r;if(!Pe.includes(s)){const{config:{isAuthenticated:c}}=p();if(!c)return{error:"User not authenticated"}}!Pe.includes(s)&&U.SAFARI!=="chrome"&&((yield Ye())||(yield Ns()));const{requests:E,userToken:{isInvalidToken:y}}=p();if(!Pe.includes(s)&&y)return{error:"User token is invalid"};const R=Date.now(),B=(c,m)=>{c.forEach(_=>{if(!(_ in m))throw new Error(`Field '${_}' is missing from ${d[s]}.`)})},W=c=>{var m;return n===!0||(((m=E==null?void 0:E[c])==null?void 0:m.expires)||0)<R};switch(s){case d.FETCH_CONFIG:{const{config:c}=p();return{data:c}}case d.FETCH_EXTENSION_SETTINGS:{const{extensionSettings:c}=p();return{data:c}}case d.UPDATE_EXTENSION_SETTINGS:{const{extensionSettings:c}=p(),m=N(N({},c),t);return yield x({extensionSettings:m}),{data:m}}case d.FETCH_EXPERIMENT:{B(["experimentName"],t);const{experimentName:c,dangerousOptions:m}=t,{user:_}=p(),S="/gatekeeper/activate/",h=`${S}${c}`;if(m!=null&&m.dangerouslySkipActivation||!W(h))return{data:Ms(c)};const G={experiment_data:JSON.stringify({key:c})},F=yield z.makeRequest({params:G,path:S,method:"PUT"}),J=((l=F==null?void 0:F.data)==null?void 0:l.group)||"",ve=qe(J);if(F!=null&&F.data){const{gatekeeper_experiments:Q}=_||{};yield x({user:V(N({},_),{gatekeeper_experiments:V(N({},Q),{[c]:{key:c,group:J}})})})}return yield x({requests:V(N({},E),{[h]:{expires:R+6e5}})}),{data:ve}}case d.FETCH_USER:{const c="/users/me/";if(!W(c)){const{user:S}=p();if(S!=null&&S.id)return{data:S}}const m={add_fields:["user.ads_customize_from_conversion","user.personalize_from_offsite_browsing","user.country"].join(",")},_=yield z.makeRequest({path:c,params:m,method:"GET"});return(o=_.data)!=null&&o.id&&(yield x({user:_.data,requests:V(N({},E),{[c]:{expires:R+6e5}})})),_}case d.FETCH_BOARDS:{const c="/users/me/boards/feed/";if(!W(c)){const{boards:S=[]}=p();return{data:S}}const m={page_size:250,filter:"all",sort:"last_pinned_to",add_fields:["board.image_cover_url","board.privacy","board.collaborated_by_me","board.section_count"].join(",")},_=yield Ie({path:c,params:m,prevResponse:{data:[]},method:"GET"});return _.data&&(yield x({boards:_.data,requests:V(N({},E),{[c]:{expires:R+6e5}})})),_}case d.FETCH_BOARD_SECTIONS:{B(["boardId"],t);const{boardId:c}=t,{boardSections:m}=p(),_=`/board/${c}/sections/`;if(!W(_))return{data:(m==null?void 0:m[c])||[]};const S=yield Ie({path:_,params:{},prevResponse:{data:[]},method:"GET"});return S.data&&(yield x({boardSections:V(N({},m),{[c]:S.data}),requests:V(N({},E),{[_]:{expires:R+6e5}})})),S}case d.CREATE_BOARD:{B(["name","secret"],t);const{name:c,secret:m}=t,_="/boards/",S={name:encodeURIComponent(c.substring(0,Xs)),privacy:m?se.SECRET:se.PUBLIC},h=yield z.makeRequest({path:_,params:S,method:"PUT"});if((u=h==null?void 0:h.data)!=null&&u.id){const{boards:G=[]}=p();yield x({boards:[h.data,...G]})}return h}case d.CREATE_BOARD_SECTION:{B(["title","boardId"],t);const{title:c,boardId:m}=t,_=`/board/${m}/sections/`,S={title:encodeURIComponent(c.substring(0,Ws))},h=yield z.makeRequest({path:_,params:S,method:"PUT"});if(h!=null&&h.data){const{boardSections:G}=p(),F=(G==null?void 0:G[m])||[],J=[h.data,...F];yield x({boardSections:V(N({},G),{[m]:J})})}return h}case d.CREATE_OR_REPIN_PIN:{B(["boardId","pinUrl"],t);const{description:c,boardId:m,boardSectionId:_,pinUrl:S,imageBase64:h,isMetadataRetentionExp:G,url:F,metadata:J,color:ve="#ffffff"}=t;let Q,xe;const pr=F&&ge(F)&&U.SAFARI!=="chrome",k=new FormData;k.set("board_id",m),_&&k.set("section",_),pr?(Q=`/pins/${F.split("/").slice(-2)[0]}/repin/`,xe="POST"):(Q="/pins/",xe="PUT",k.set("method","extension"),k.set("add_fields","user.is_partner"),c&&k.set("description",c.substring(0,Ks)),F&&k.set("source_url",F.substring(0,Oe)),J&&k.set("found_metadata",J),S===""?(k.set("isGeneratedTextImage","true"),k.set("color",ve)):G?(h&&k.set("image_base64",h),S&&!S.match(v)&&k.set("image_url",S)):h?k.set("image_base64",h):k.set("image_url",S));const Re=yield z.makeRequest({path:Q,method:xe,formData:k});if((a=Re==null?void 0:Re.data)!=null&&a.id){const{boards:Ne=[]}=p(),be=Ne.find(we=>we.id===m);if(be!=null&&be.id){const we=Ne.filter(Sr=>Sr.id!==m);yield x({boards:[be,...we]})}}return Re}case d.CREATE_LOGS:{B(["eventBatchJson"],t);const{eventBatchJson:c}=t,m="/callback/event/",_=new FormData;return _.set("isJSONData","true"),_.set("event_batch_json",c),yield z.makeRequest({subDomain:"trk",path:m,method:"POST",formData:_})}case d.REPORT_BUG:{B(["website"],t);const{description:c,website:m}=t,{config:{extensionVersion:_}}=p(),S="/storypins/feedback/",h={story_pin_feedback:JSON.stringify({feedback_types:[],feedback:"[BROWSER_EXTENSION] url:"+m+" version: "+_+" text:"+c,satisfaction:1})};return yield z.makeRequest({path:S,params:h,method:"POST"})}case d.FETCH_EXPERIENCES:{const{experiences:c}=p();return{data:c}}case d.UPDATE_EXPERIENCES:{const{experiences:c}=p(),m=N(N({},c),t);return yield x({experiences:m}),{data:m}}case d.REVOKE_OAUTH_TOKEN:{const{config:c}=p();return yield x({userToken:{token:"",sessionCookieValue:""},config:V(N({},c),{isAuthenticated:!1})}),{data:"OK"}}case d.CLEAR_BACKGROUND_STATE:return yield Ge(),{data:"OK"};default:throw new Error("API action not found")}});function zs(e){console.log(`%cP%c ${e}`,"color:#fff;background:#E60023;font-weight:bold;border-radius:2px;display:inline-block;padding:0 4px;","")}function Tr(e,s){s?console.timeEnd(e):console.time(e)}var Ys=Object.defineProperty,rs=Object.getOwnPropertySymbols,Js=Object.prototype.hasOwnProperty,Zs=Object.prototype.propertyIsEnumerable,ts=(e,s,r)=>s in e?Ys(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,ue=(e,s)=>{for(var r in s||(s={}))Js.call(s,r)&&ts(e,r,s[r]);if(rs)for(var r of rs(s))Zs.call(s,r)&&ts(e,r,s[r]);return e};const qs=e=>{const{type:s,action:r,payload:t,onSuccess:l,onError:o}=e;T.runtime.sendMessage({type:s,action:r,payload:t}).then(u=>{u!=null&&u.error?o&&o(u.error):l&&l(u)},u=>{o&&o(u)})},Ce=({elementObjectTypes:e,elementValue:s})=>{var r;return((r=Object.entries(e).find(([,t])=>t===s))==null?void 0:r[0])||""},ns=({eventType:e,viewType:s,auxData:r,element:t,objectIdStr:l})=>{j.DEVELOPMENT==="production"&&zs(`[CONTEXT_LOG] event:${Ce({elementObjectTypes:A,elementValue:e})} view:${Ce({elementObjectTypes:w,elementValue:s})} element:${Ce({elementObjectTypes:P,elementValue:t})} auxData:${r?JSON.stringify(r):""} pinId:${l||""}`);for(const o in r)(typeof r[o]=="number"||typeof r[o]=="boolean")&&(r[o]=String(r[o]));qs({type:C.API_REQUEST,action:d.LOG_EVENT,payload:ue(ue(ue(ue({eventType:e},s&&{viewType:s}),t&&{element:t}),l&&{objectIdStr:l}),r&&{auxData:r})})},Pr=({eventType:e,viewType:s,auxData:r,element:t,objectIdStr:l})=>{ns({eventType:e,viewType:s,element:t,auxData:r,objectIdStr:l})},os=({eventType:e,viewType:s,auxData:r,element:t,objectIdStr:l})=>{ns({eventType:e,viewType:s,element:t,auxData:r,objectIdStr:l})},le=({tab:e,type:s,action:r,payload:t})=>{T.tabs.sendMessage(e,{type:s,action:r,payload:t})},Ir=({element:e,action:s,payload:r})=>{e.postMessage({target:PINTEREST_SAVE_EXTENSION_ID,action:s,payload:r},"*")};var Qs=Object.defineProperty,er=Object.defineProperties,sr=Object.getOwnPropertyDescriptors,as=Object.getOwnPropertySymbols,rr=Object.prototype.hasOwnProperty,tr=Object.prototype.propertyIsEnumerable,is=(e,s,r)=>s in e?Qs(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,_e=(e,s)=>{for(var r in s||(s={}))rr.call(s,r)&&is(e,r,s[r]);if(as)for(var r of as(s))tr.call(s,r)&&is(e,r,s[r]);return e},nr=(e,s)=>er(e,sr(s)),ls=(e,s,r)=>new Promise((t,l)=>{var o=n=>{try{a(r.next(n))}catch(E){l(E)}},u=n=>{try{a(r.throw(n))}catch(E){l(E)}},a=n=>n.done?t(n.value):Promise.resolve(n.value).then(o,u);a((r=r.apply(e,s)).next())});const or=20,ar=60*1e3;function ir(){let e=[],s=null;const r=o=>ls(this,[o],function*({eventType:u,viewType:a,element:n,objectIdStr:E,auxData:y}){const{user:{id:R}={},config:{extensionVersion:B,browserType:W,unauthId:c,isAuthenticated:m}}=p(),_=Date.now(),S=$.BROWSER_EXTENSION;if(!B||!W)throw new Error("Missing new log event data");const h=nr(_e(_e({eventType:u,viewType:a,element:n},E&&{objectIdStr:E}),y&&typeof y=="object"&&{auxData:y}),{time:_*1e6,app:S,appVersion:B,browser:W});(a||n)&&(h.context=_e(_e({},a&&{viewType:a}),n&&{element:n})),m&&R?h.userId=R:h.unauthId=c,e.push(h),e.length>=or?yield l():t()}),t=()=>{s&&clearTimeout(s),s=setTimeout(l,ar)},l=()=>ls(this,null,function*(){if(e.length>0){const o=Date.now()*1e6,u={eventBatchJson:JSON.stringify({reportTime:o,events:[...e]})};e=[];const a=yield ie({action:d.CREATE_LOGS,payload:u});!a||"error"in a&&a.error}t()});return t(),{contextLogEvent:r}}const{contextLogEvent:lr}=ir();var cr=(e,s,r)=>new Promise((t,l)=>{var o=n=>{try{a(r.next(n))}catch(E){l(E)}},u=n=>{try{a(r.throw(n))}catch(E){l(E)}},a=n=>n.done?t(n.value):Promise.resolve(n.value).then(o,u);a((r=r.apply(e,s)).next())});function gr(e){if(e!=null&&e.id){const{config:s}=p();le({tab:e.id,type:C.LIFECYCLE_EVENT,action:H.TOGGLE_SIDEBAR_APP,payload:{isAuthenticated:!!(s!=null&&s.isAuthenticated)}})}}const mr=(e,s)=>cr(void 0,null,function*(){var r,t,l,o,u,a;const{type:n,action:E,payload:y}=e;switch(n){case C.API_REQUEST:switch(E){case d.LOG_EVENT:if((r=s==null?void 0:s.tab)!=null&&r.id)return lr(y),{data:{status:X.SUCCESS}};break;default:return yield ie({action:E,payload:y})}break;case C.LIFECYCLE_EVENT:switch(E){case K.SHOW_SIDEBAR_APP:(t=s==null?void 0:s.tab)!=null&&t.id&&le({tab:s.tab.id,type:C.LIFECYCLE_EVENT,action:H.SHOW_SIDEBAR_APP,payload:y});break;case K.UNLOAD_SIDEBAR_APP:(l=s==null?void 0:s.tab)!=null&&l.id&&le({tab:s.tab.id,type:C.LIFECYCLE_EVENT,action:H.UNLOAD_SIDEBAR_APP});break;case K.SETUP_OATH_FLOW:{const{accessToken:R}=y;return(o=s==null?void 0:s.tab)!=null&&o.id&&R?(yield x({userToken:{token:R,sessionCookieValue:""}}),$e(),{data:{status:X.SUCCESS}}):{error:"Failed to finish oAuth flow"}}case K.CHECK_OAUTH_STATE:if((u=s==null?void 0:s.tab)!=null&&u.id){const{config:{isAuthenticated:R}}=p();return{data:{status:R?X.SUCCESS:X.WAITING}}}break;case K.KEEP_ALIVE_PING:(a=s==null?void 0:s.tab)!=null&&a.id&&le({tab:s.tab.id,type:C.LIFECYCLE_EVENT,action:H.KEEP_ALIVE_PONG,payload:{now:Date.now()}});break;default:break}break;default:break}}),Er=(e,s)=>{s!=null&&s.id&&le({tab:s.id,type:C.LIFECYCLE_EVENT,action:H.HANDLE_CONTEXT_MENU_SAVE_ACTION})},cs=()=>{const{user:{id:e=null,country:s=null,ads_customize_from_conversion:r=!1,personalize_from_offsite_browsing:t=!1}={}}=p();e&&r&&t&&s&&!ce.includes(s)?T.declarativeNetRequest.updateSessionRules({removeRuleIds:[1002],addRules:[{id:1002,priority:1,action:{type:"redirect",redirect:{transform:{queryTransform:{addOrReplaceParams:[{key:"beuid",value:e}]}}}},condition:{urlFilter:"*://ct.pinterest.com/*"}}]}):T.declarativeNetRequest.updateSessionRules({removeRuleIds:[1002]})};function Ar(){const{config:{extensionVersion:e}}=p(),s=`https://www.pinterest.com/_/_/about/browser-button/uninstall/?xv=${e}`;T.runtime.setUninstallURL(s)}const ur=e=>{const{config:{extensionVersion:s}}=p(),{reason:r}=e;r==="install"?os({eventType:A.INSTALL,auxData:{app_version:s}}):r==="update"&&os({eventType:A.UPDATE,auxData:{app_version:s}})};function gs(){const{config:{isAuthenticated:e}}=p();e||he()}const _r="contextMenuSave";function dr(){T.contextMenus.removeAll().then(()=>{T.contextMenus.create({id:_r,title:T.i18n.getMessage("contextMenuSaveActionText"),contexts:["image"]},()=>{T.contextMenus.onClicked.addListener(Er)})})}var fr=(e,s,r)=>new Promise((t,l)=>{var o=n=>{try{a(r.next(n))}catch(E){l(E)}},u=n=>{try{a(r.throw(n))}catch(E){l(E)}},a=n=>n.done?t(n.value):Promise.resolve(n.value).then(o,u);a((r=r.apply(e,s)).next())});function Or(){U.SAFARI!=="chrome"&&fr(this,null,function*(){yield he(),yield ie({action:d.FETCH_USER}),T.tabs.onActivated.addListener(gs),T.windows.onFocusChanged.addListener(gs)}),Ts(()=>{U.SAFARI==="chrome"&&(bs(),ie({action:d.FETCH_USER}))}),T.runtime.onInstalled.addListener(ur),T.action.onClicked.addListener(gr),T.runtime.onMessage.addListener(mr),T.tabs.onActivated.addListener(cs),T.windows.onFocusChanged.addListener(cs),dr(),Ar()}Or()})()})();})();
